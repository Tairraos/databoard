var Fo=Object.defineProperty,Xo=Object.defineProperties;var Eo=Object.getOwnPropertyDescriptors;var Zt=Object.getOwnPropertySymbols;var Do=Object.prototype.hasOwnProperty,To=Object.prototype.propertyIsEnumerable;var rt=(e,t,o)=>t in e?Fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,_=(e,t)=>{for(var o in t||(t={}))Do.call(t,o)&&rt(e,o,t[o]);if(Zt)for(var o of Zt(t))To.call(t,o)&&rt(e,o,t[o]);return e},J=(e,t)=>Xo(e,Eo(t));var S=(e,t,o)=>(rt(e,typeof t!="symbol"?t+"":t,o),o);import{e as Po,n as He,f as zo,N as Bo,g as Lo,h as Io,i as Mo,j as Ao,k as Vo,l as jo,m as Ro,o as Oo,p as No,q as Ho,r as Go,s as Wo,t as qo,u as Zo,v as Ko,w as Yo,x as Uo,y as Jo,z as Qo,A as ea,B as ta,C as oa,D as aa,E as ia,F as na,G as ra,H as sa,I as la,J as ca,K as ua,L as da,M as pa,O as ga,P as ma,Q as fa,R as ha,S as ba,T as ya,U as xa,V as va,W as wa,X as Sa,Y as Ca,Z as $a,_ as ka,$ as _a,a0 as Fa,a1 as Xa,a2 as Ea,a3 as Da,a4 as H,a5 as we,a6 as $,a7 as je,a8 as oe,a9 as R,aa as F,ab as lo,ac as X,ad as P,ae as be,af as ye,ag as se,ah as Xe,ai as co,aj as Ge,ak as Ta,al as g,am as Se,an as Pa,ao as za,ap as Ba,aq as V,ar as At,as as La,at as Ia,au as xe,av as We,aw as le,ax as Ma,ay as Me,az as Aa,aA as qe,aB as Va,aC as ja,aD as Ee,aE as j,aF as ue,aG as Ra,aH as Oa,aI as Na,aJ as Vt,aK as Ha,aL as Ga,aM as Ze,aN as Ke,aO as uo,aP as po,aQ as Ye,aR as Wa,aS as Ue,aT as Je,aU as go,aV as Ce,aW as qa,aX as Za,aY as Ka,aZ as Ya,a_ as Ua,a$ as Ja,b0 as Qa,b1 as Ae,b2 as ei,b3 as ti,b4 as st,b5 as oi,b6 as Kt,b7 as ai}from"./vendor.891943b7.js";const ii=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function o(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=o(a);fetch(a.href,r)}};ii();const ni="modulepreload",Yt={},ri="/",z=function(t,o){return!o||o.length===0?t():Promise.all(o.map(i=>{if(i=`${ri}${i}`,i in Yt)return;Yt[i]=!0;const a=i.endsWith(".css"),r=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${r}`))return;const n=document.createElement("link");if(n.rel=a?"stylesheet":ni,a||(n.as="script",n.crossOrigin=""),n.href=i,document.head.appendChild(n),a)return new Promise((s,u)=>{n.addEventListener("load",s),n.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};var mo={g:{"Language switch successfully":"\u8BED\u8A00\u5207\u6362\u6210\u529F"},route:{login:"\u767B\u5F55"},login:{login:"\u767B\u5F55",username:"\u7528\u6237\u540D",password:"\u5BC6\u7801"},error:{page:{code_404:"404 \u9875\u9762\u4E0D\u5B58\u5728",code_403:"403 \u7981\u6B62\u8BBF\u95EE\u8BE5\u9875\u9762",code_401:"401 \u9875\u9762\u672A\u7ECF\u6388\u6743",errorUrl:"\u62A5\u9519\u94FE\u63A5",back:"\u8FD4\u56DE",message:"\u62A5\u9519\u4FE1\u606F",Unauthorized:"\u672A\u7ECF\u6388\u6743",NOT_FOUND:"\u9875\u9762\u4E0D\u5B58\u5728",ACCESS_DENIED:"\u8BBF\u95EE\u88AB\u62D2\u7EDD"}}},si=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));function li(e){switch(e){case"./lang/en.js":return z(()=>import("./en.9f00e7d4.js"),[]);case"./lang/zh-CN.js":return z(()=>Promise.resolve().then(function(){return si}),void 0);default:return new Promise(function(t,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const Re=["zh-CN"],Yr={"zh-CN":"\u4E2D\u6587",en:"English"},bt=Po({globalInjection:!0,legacy:!1,locale:Re[0],fallbackLocale:Re[0],messages:{"zh-CN":mo}});function Ut(e){bt.global.locale.value=e,document.documentElement.lang=e}async function Ur(e){if(bt.global.locale.value===e||Re.includes(e))return Promise.resolve(Ut(e));try{const t=await li(`./lang/${e}.js`);return bt.global.setLocaleMessage(e,t.default),Re.push(e),Ut(e)}catch{console.error(`Failed to load locale file: ${e}`)}return He()}var Jr=zo({components:[Bo,Lo,Io,Mo,Ao,Vo,jo,Ro,Oo,No,Ho,Go,Wo,qo,Zo,Ko,Yo,Uo,Jo,Qo,ea,ta,oa,aa,ia,na,ra,sa,la,ca,ua,da,pa,ga,ma,fa,ha,ba,ya,xa,va,wa,Sa,Ca,$a,ka,_a,Fa,Xa,Ea,Da]}),ae=(e,t)=>{const o=e.__vccOpts||e;for(const[i,a]of t)o[i]=a;return o};const ci=H({name:"AsyncLoading"});function ui(e,t,o,i,a,r){const n=we("g-loading");return $(),je(n,{type:"square",spinning:!0,class:"g-async-loading"})}var di=ae(ci,[["render",ui]]);const U=e=>oe({loader:e,loadingComponent:di,delay:20}),pi=H({name:"GLoading",props:{type:{type:String,default:"dna"},spinning:{type:Boolean,default:!1},theme:{type:String,default:"dark"},opacity:{type:Number,default:1},wrapClass:{type:String},wrapStyle:{type:{}}},setup(e){const t=e.opacity>1?1:e.opacity<0?0:e.opacity,o=R("");e.spinning?e.wrapClass&&(o.value+=` ${e.wrapClass}`):o.value="";const i=e.wrapStyle||{},a=R(J(_({},i),{background:e.theme==="dark"?`rgba(23,27,34,${t})`:`rgba(255, 255, 255, ${t})`}));return{spinContentClass:o,spinContentStyle:a}}}),gi={class:"g-nested-loading"},mi={class:"g-loading"},fi={key:0,class:"dna-loading"},hi=P("div",{class:"dna-dot"},null,-1),bi=[hi],yi={key:1,class:"square-loading"},xi=P("i",{class:"loading-icon validating"},null,-1),vi=P("i",{class:"loading-icon validating"},null,-1),wi=P("i",{class:"loading-icon validating"},null,-1),Si=[xi,vi,wi],Ci={key:2};function $i(e,t,o,i,a,r){return $(),F("div",gi,[e.spinning?($(),F("div",{key:0,class:lo(["g-loading-mask",e.spinContentClass]),style:X(e.spinning?e.spinContentStyle:{})},[P("div",mi,[e.type==="dna"?($(),F("div",fi,[($(),F(be,null,ye(60,n=>P("div",{key:n,class:"dna-ele"},bi)),64))])):e.type==="square"?($(),F("div",yi,Si)):($(),F("div",Ci,se(e.type),1))])],6)):Xe("",!0),co(e.$slots,"default")])}var Ve=ae(pi,[["render",$i]]);Ve.install=e=>{e.component(Ve.name,Ve)};const Jt="update:modelValue",ki=H({name:"NewInput",props:{modelValue:{type:[String,Number],default:""},disabled:Boolean,autofocus:Boolean},emits:[Jt,"change"],setup(e,t){const o=R(null),i=n=>{const{value:s}=n.target;t.emit(Jt,s)},a=n=>{t.emit("change",n.target.value)},r=()=>{o.value.blur()};return Ge(()=>{var n;e.autofocus&&((n=o.value)==null||n.focus())}),{inputRef:o,handleInput:i,handleBlur:a,handleKeyEnter:r}}}),_i=["value","disabled","autofocus"];function Fi(e,t,o,i,a,r){return $(),F("input",{ref:"inputRef",value:e.modelValue,autocomplete:"off",class:lo(["new-input",{"is-disabled":e.disabled}]),disabled:e.disabled,autofocus:e.autofocus,onInput:t[0]||(t[0]=(...n)=>e.handleInput&&e.handleInput(...n)),onBlur:t[1]||(t[1]=(...n)=>e.handleBlur&&e.handleBlur(...n)),onKeypress:t[2]||(t[2]=Ta((...n)=>e.handleKeyEnter&&e.handleKeyEnter(...n),["enter"]))},null,42,_i)}var Xi=ae(ki,[["render",Fi]]),Ei={install(e){e.directive("focus",{mounted(t){const o=t.getAttribute("default-value");o&&(t.value=o),t.focus()}})}};const Di=[Ve,Xi],Ti=[Ei],Pi=e=>{Di.forEach(t=>{e.component(t.name,t)}),e.component("GTooltipPopover",oe(()=>z(()=>import("./index.6574247e.js"),["assets/index.6574247e.js","assets/vendor.891943b7.js"]))),e.component("GInput",oe(()=>z(()=>import("./index.7b2a8e58.js"),["assets/index.7b2a8e58.js","assets/vendor.891943b7.js"]))),e.component("GInputNumber",oe(()=>z(()=>import("./index.fb8246f5.js"),["assets/index.fb8246f5.js","assets/vendor.891943b7.js"]))),e.component("GSelect",oe(()=>z(()=>import("./index.6970ad42.js"),["assets/index.6970ad42.js","assets/vendor.891943b7.js"]))),e.component("GField",oe(()=>z(()=>import("./index.592f523b.js"),["assets/index.592f523b.js","assets/vendor.891943b7.js"]))),e.component("GColorPicker",oe(()=>z(()=>import("./index.1c901d6b.js"),["assets/index.1c901d6b.js","assets/vendor.891943b7.js"]))),e.component("GUploadImage",oe(()=>z(()=>import("./index.90f69eb0.js"),["assets/index.90f69eb0.js","assets/vendor.891943b7.js","assets/qiniu.0a1a4a0e.js"]))),e.component("GLangSelect",oe(()=>z(()=>import("./index.39e57683.js"),["assets/index.39e57683.js","assets/vendor.891943b7.js"]))),e.component("GFieldCollapse",oe(()=>z(()=>import("./index.d543d265.js"),["assets/index.d543d265.js","assets/vendor.891943b7.js","assets/arrow-right.a7b4c086.js","assets/plus.e26fdb31.js","assets/delete.d67e866a.js","assets/copy.93d9dd7e.js"]))),e.component("GSelectImage",oe(()=>z(()=>import("./index.d83a7700.js"),["assets/index.d83a7700.js","assets/vendor.891943b7.js"]))),e.component("GSlider",oe(()=>z(()=>import("./index.4b5addf1.js"),["assets/index.4b5addf1.js","assets/vendor.891943b7.js"]))),e.component("GSliderRange",oe(()=>z(()=>import("./index.cdb34a53.js"),["assets/index.cdb34a53.js","assets/vendor.891943b7.js"]))),e.component("GSelectSuggest",oe(()=>z(()=>import("./index.91acfdc9.js"),["assets/index.91acfdc9.js","assets/vendor.891943b7.js"]))),e.component("GSelectShape",oe(()=>z(()=>import("./index.463e3ead.js"),["assets/index.463e3ead.js","assets/help.59785292.js","assets/vendor.891943b7.js"]))),e.component("GComIcon",oe(()=>z(()=>import("./index.ef418bb9.js"),["assets/index.ef418bb9.js","assets/help.59785292.js","assets/vendor.891943b7.js","assets/view-grid.253c0d12.js","assets/interact.ae76fda5.js"]))),e.component("GSwitch",oe(()=>z(()=>import("./index.67bbb974.js"),["assets/index.67bbb974.js","assets/vendor.891943b7.js"]))),e.component("GMonacoEditor",U(()=>z(()=>import("./index.5d36e943.js"),["assets/index.5d36e943.js","assets/copy.93d9dd7e.js","assets/vendor.891943b7.js","assets/fullscreen.2f534c88.js"]))),Ti.forEach(t=>{e.use(t)})};var Qr={install:Pi};const zi=H({__name:"datav-wrapper",props:{attr:{type:Object,required:!0}},setup(e){const t=e,o=g(()=>({transform:"translateZ(0)",width:`${t.attr.w}px`,height:`${t.attr.h}px`}));return(i,a)=>($(),F("div",{class:"datav-wrapper",style:X(Se(o))},[co(i.$slots,"default")],4))}}),Bi=Object.prototype.hasOwnProperty,Li=(e,t)=>Bi.call(e,t),$e=e=>{const t=Pa.generate();return e?`${e}_${t}`:t};function es(e){return Math.floor(Math.random()*Math.floor(e))}const Ii=()=>/macintosh|mac os x/i.test(navigator.userAgent),Mi=e=>/^[a-zA-z]+:\/\/[^\s]*$/.test(e);function ts(e,t,o){const i=Object.create(null);return t&&o?e.reduce((a,r)=>(a[r[t]]=r[o],a),i):e.reduce((a,r)=>(a[r]=r,a),i)}function lt(e,t){try{return e?za(e)?JSON.parse(e):e:t}catch{return t}}const os=async e=>{try{if(navigator&&"clipboard"in navigator)await navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}return!0}catch{return!1}},Ai=e=>{var o;const t=/:([\d\w\u4e00-\u9fa5_$@*]+)/ig;return(o=e.match(t))!=null?o:[]},Vi=(e,t)=>{if(Object.keys(t).length===0)return e;const o=/:([\d\w\u4e00-\u9fa5_$@*]+)/ig;return e.replace(o,i=>{var a;return(a=t[i.substring(1)])!=null?a:i})},as=e=>{const t=Ii();return!t&&e.ctrlKey||t&&e.metaKey},T={fontFamily:"'PingFang SC', 'Microsoft YaHei', 'Helvetica Neue', Arial, sans-serif !important",primaryColor:"#2681ff",primaryColorHover:"#409fff",primaryColorPressed:"#2681ff",errorColor:"#f15532",warningColor:"#f27a24",infoColor:"#90a0ae",successColor:"#50e3c2",textColor1:"#ffffff",borderColor:"#3a4659",borderRadius:"0",borderRadiusSmall:"0",boxShadow1:"none",boxShadow2:"none",boxShadow3:"none"},A={darkColor:"#262c33",guiPrimaryColor:"#2483ff",guiComponentBgColor:"#262c33",guiComponentBgColorDark:"#262c32",guiComponentBgColorHover:"#303640",guiComponentBgColorActive:"#262b33",guiComponentBgColorDisabled:"#13161a",guiFontColor:"#a1aeb3",guiFontColorDescription:"#5c6366",borderColor:"#0b0c0d",border:"1px solid #0b0c0d",borderPrimary:"1px solid #2681ff",guiBgColorDark:"#111417",bgColor1:"#0b0c0d",bgColor2:"#1d262e"},fo={common:_({},T),Button:{iconSizeTiny:"12px",heightTiny:"26px",heightSmall:"32px",heightMedium:"32px",paddingTiny:"0 15px",paddingSmall:"0 24px",paddingMedium:"0 24px",color:"#0000",colorHover:T.primaryColorHover,colorPressed:T.primaryColorPressed,colorFocus:T.primaryColor,colorFocusPrimary:T.primaryColor,border:`1px solid ${T.primaryColor}`,borderHover:`1px solid ${T.primaryColorHover}`,borderPressed:`1px solid ${T.primaryColorPressed}`,borderFocus:`1px solid ${T.primaryColor}`,borderFocusPrimary:`1px solid ${T.primaryColor}`,textColor:T.primaryColor,textColorHover:"#fff",textColorPressed:"#fff",textColorFocus:"#fff",textColorGhost:T.primaryColor,textColorGhostHover:"#fff",textColorGhostPressed:"#fff",textColorGhostFocus:T.primaryColor,colorDisabled:"#282f3a",textColorDisabled:"#90a0ae",borderDisabled:"1px solid #0000"},Message:{minWidth:"380px",padding:"15px 15px 15px 20px",fontSize:"12px",iconSize:"16px",borderRadius:"0",textColorError:"#fff",textColorSuccess:"#fff",textColorWarning:"#fff",colorError:"#5d2b3e",colorSuccess:"#1b3964",colorWarning:"#593c27",closeMargin:"0",closeIconColorError:"#fff",closeIconColorHoverError:T.infoColor,closeIconColorSuccess:"#fff",closeIconColorHoverSuccess:T.infoColor,closeIconColorWarning:"#fff",closeIconColorHoverWarning:T.infoColor},Dialog:{color:"#303640",padding:"16px 20px",textColor:"#fff",closeIconColor:T.primaryColor,closeIconColorHover:T.primaryColor,closeIconColorPressed:T.primaryColor,closeColorHover:"#0000",closeColorPressed:"#0000",closeMargin:"16px 20px 0 0",iconSize:"65px",iconColor:"#ff4f43",iconMargin:"0 0 10px 0",contentMargin:"10px -20px 0"},Dropdown:{fontSizeMedium:"12px",padding:"0",borderRadius:"1px",color:A.darkColor,prefixColor:"#fff",optionColorHover:"#1a1b1d",optionTextColor:"#fff",optionTextColorHover:"#fff",optionHeightMedium:"30px",optionIconSizeMedium:"12px",optionIconPrefixWidthMedium:"12px",dividerColor:"#1a1b1d"},Switch:{buttonWidthMedium:"10px",buttonHeightMedium:"10px",buttonWidthPressedMedium:"14px",railWidthMedium:"26px",railHeightMedium:"12px",buttonWidthSmall:"6px",buttonHeightSmall:"6px",buttonWidthPressedSmall:"8px",railWidthSmall:"16px",railHeightSmall:"8px",railColor:"#0b0c0d",railColorActive:A.guiPrimaryColor,boxShadowFocus:"none"},Tooltip:{padding:"5px",color:T.primaryColor,boxShadow:"none",peers:{Popover:{fontSize:"12px"}}},Slider:{handleSize:"9px",railHeight:"2px",railColor:"#bcc9d4"},Checkbox:{sizeMedium:"14px",fontSizeMedium:"12px",textColor:T.textColor1,color:"#0000",colorChecked:"#0000",checkMarkColor:T.primaryColor,boxShadowFocus:"none"},Radio:{fontSizeSmall:"12px",buttonHeightSmall:"24px",buttonTextColor:A.guiFontColor,buttonTextColorActive:"#fff",buttonColor:A.darkColor,buttonColorActive:A.guiPrimaryColor,buttonBoxShadow:"none",buttonBoxShadowFocus:"none",buttonBoxShadowHover:"none",buttonBorderColor:A.borderColor,color:"#0000",textColor:T.textColor1,boxShadowFocus:"var(--n-box-shadow-active)"},Input:{fontSizeSmall:"12px",textColor:T.textColor1,color:A.guiComponentBgColor,colorFocus:A.guiComponentBgColor,border:A.border,borderHover:A.borderPrimary,borderFocus:A.borderPrimary,boxShadowFocus:"none",iconColor:T.textColor1,suffixTextColor:A.guiFontColorDescription,paddingSmall:"0 8px",groupLabelColor:A.guiComponentBgColor,groupLabelTextColor:T.textColor1,groupLabelBorder:A.border,heightMedium:"32px"},ColorPicker:{border:A.border,color:A.guiComponentBgColor,panelFontSize:"12px",textColor:T.textColor1,heightMedium:"32px"},Upload:{draggerBorder:A.border,draggerBorderHover:A.borderPrimary},Drawer:{color:"#1d2126",bodyPadding:"0 20px 80px 20px",textColor:T.primaryColor,titleFontWeight:"normal",headerBorderBottom:"1px solid rgba(255, 255, 255, 0.15)",closeIconColor:T.primaryColor,closeIconColorHover:T.primaryColor,closeIconColorPressed:T.primaryColor,closeColorHover:"#0000",closeColorPressed:"#0000"},Select:{peers:{InternalSelection:{fontSizeSmall:"12px",textColor:T.textColor1,arrowColor:T.textColor1,caretColor:T.primaryColor,color:A.guiComponentBgColor,colorActive:A.guiComponentBgColor,colorDisabled:A.guiComponentBgColor,border:A.border,borderHover:A.borderPrimary,borderActive:A.borderPrimary,borderFocus:A.borderPrimary,boxShadowFocus:"none",boxShadowActive:"none",paddingSingle:"0 24px 0 8px",placeholderColor:"#c0c4cc",heightMedium:"32px"},InternalSelectMenu:{optionFontSizeSmall:"12px",optionFontSizeMedium:"12px",color:"#1d2126",optionColorActive:"#1b3964",optionColorPending:"#1b3964",optionColorActivePending:"#1b3964",optionTextColor:A.guiFontColor,optionTextColorActive:"#fff",optionHeightSmall:"28px",optionHeightMedium:"28px"}}},Collapse:{fontSize:"12px",textColor:T.textColor1,titleTextColor:"#fff",arrowColor:T.textColor1,dividerColor:"rgba(52, 52, 52, 0)"},Card:{borderColor:T.borderColor,textColor:T.textColor1,color:A.bgColor2,titleTextColor:T.primaryColor},Scrollbar:{color:"#434b55",colorHover:"#5a6572"},Tag:{color:A.darkColor,border:A.border,textColor:T.textColor1},Tabs:{panePaddingMedium:"0",tabGapMediumCard:"0",tabBorderColor:"#0000",tabTextColorHoverCard:T.primaryColorHover,tabTextColorActiveCard:T.primaryColorHover}};let ct=null;const ji=()=>{if(!ct){const{message:e}=Ba(["message"],{configProviderProps:{themeOverrides:fo}});ct=e}return ct};var Ri=e=>{e.onPost("/user/login").reply(200,V.mock({code:0,message:"ok","data|30":""})),e.onPost("/user/logout").reply(200,V.mock({code:0,message:"ok"})),e.onGet("/user/info").reply(200,V.mock({code:0,message:"ok",data:{name:"\u7F8E\u4EBA\u9AA8",avatar:"//files.pengxiaotian.com/avatar.jpeg",role:1}}))},Oi=e=>{e.onGet("/project").reply(200,V.mock({code:0,message:"ok","data|1-3":[{"id|1-10000":0,name:"@word","children|1-3":[{"id|100-10000":1,name:"@word","share|0-1":"@url",groupId:0,"thumbnail|0-1":"//files.pengxiaotian.com/datav/bj.png",config:{},createAt:"@datetime",updateAt:"@datetime"}],"type|0-1":1}]})),e.onPost("/project").reply(()=>[200,V.mock({code:0,message:"ok","data|100-10000":1})]),e.onPut(/\/project\/\d+\/name$/).reply(200,V.mock({code:0,message:"ok"})),e.onGet(/\/project\/\d+$/).reply(200,V.mock({code:0,message:"ok",data:{id:1,name:"@word",config:{bgcolor:"rgba(13,42,67,0)",width:1920,height:1080,bgimage:"//files.pengxiaotian.com/datav/bj.png",screenshot:"",zoomMode:1,useWatermark:!0,grid:8,styleFilterParams:{enable:!1,hue:0,saturate:100,brightness:100,contrast:100,opacity:100},variables:{componentsView:{},publishersView:{},subscribersView:{}}},"share|0-1":"@url",thumbnail:"",groupId:0,createAt:"@datetime",updateAt:"@datetime"}})),e.onDelete(/\/project\/\d+$/).reply(200,V.mock({code:0,message:"ok"})),e.onPost("/project/group").reply(()=>[200,V.mock({code:0,message:"ok","data|1-10000":1})]),e.onDelete(/\/project\/group\/\d+$/).reply(200,V.mock({code:0,message:"ok"})),e.onPut(/\/project\/group\/\d+\/name$/).reply(200,V.mock({code:0,message:"ok"})),e.onPut(/\/project\/\d+\/group$/).reply(200,V.mock({code:0,message:"ok"})),e.onPost(/\/project\/\d+\/copy$/).reply(()=>[200,V.mock({code:0,message:"ok","data|1-10000":1})]),e.onGet("/project/template").reply(200,V.mock({code:0,message:"ok","data|1-20":[{"id|0-10000":1,name:"@word",description:"\u6A21\u677F\u7684\u63CF\u8FF0",size:["\u6BD4\u4F8B 16:9","1920x1080px"],"snapshot|0-1":"//img.alicdn.com/tfs/TB1HGKHH.z1gK0jSZLeXXb9kVXa-1600-900.gif","thumbnail|0-1":"//gw.alicdn.com/tfs/TB1lY6WHWL7gK0jSZFBXXXZZpXa-280-158.png"}]})),e.onGet(/\/project\/\d+\/publish$/).reply(200,V.mock({code:0,message:"ok",data:{"share|0-1":"@url","password|0-1":"@word"}})),e.onPost(/\/project\/\d+\/publish$/).reply(200,V.mock({code:0,message:"ok"}))},Ni=e=>{e.onGet("/coms").reply(200,V.mock({code:0,message:"ok",data:[{id:"@guid",type:"com",alias:"\u901A\u7528\u6807\u9898",name:"VMainTitle",locked:!1,parentId:null,hided:!1,attr:{opacity:1,"x|100-1500":810,w:300,"y|100-600":512,deg:0,"h|56-300":56,filpV:!1,filpH:!1},icon:"v-icon-title",config:{title:"\u6211\u662F\u6807\u9898",textStyle:{fontFamily:"Microsoft Yahei",fontSize:24,color:"#fff",fontWeight:"normal"},textAlign:"center",urlConfig:{url:"",isBlank:!1},writingMode:"horizontal-tb",letterSpacing:0,ellipsis:!1,backgroundStyle:{show:!1,bgColor:"#008bff",borderRadius:15,borderColor:"#fff",borderStyle:"solid",borderWidth:1}},children:null,img:"//files.pengxiaotian.com/com-thum/main-title-370-208.png",apis:{source:{autoUpdate:1,description:"",fields:{title:{type:"string",path:"",map:"",description:"\u6807\u9898\u503C",optional:!0},url:{type:"string",path:"",map:"",description:"\u8D85\u94FE\u63A5",optional:!0}},handler:"render",useAutoUpdate:!1}},apiData:{source:{id:"@guid",type:"static",comId:"@guid",config:{useFilter:!1,pageFilters:[],data:'{"title":"\u6211\u662F\u6807\u9898\u6570\u636E","url":""}'},pageFilters:[]}},projectId:1,events:[],selected:!1,hovered:!1}]})),e.onPost("/coms").reply(200,V.mock({code:0,message:"ok"})),e.onPost(/\/coms\/\S+\/copy$/).reply(200,V.mock({code:0,message:"ok"})),e.onDelete(/\/coms\/\S+$/).reply(200,V.mock({code:0,message:"ok"})),e.onDelete("/coms/some").reply(200,V.mock({code:0,message:"ok"}))},Hi=e=>{e.onGet("/filter").reply(200,V.mock({code:0,message:"ok","data|2":[{"id|1-100000":1,name:"\u65B0\u5EFA\u8FC7\u6EE4\u5668",code:"if (!data) { return data; }  return filter(data);  function filter(data){  return data;   }",origin:"return data",projectId:0,createAt:"@datetime",updateAt:"@now"}]})),e.onPost("/filter").reply(()=>[200,V.mock({code:0,message:"ok","data|1-100000":1})]),e.onPut(/\/filter\/\d+/).reply(200,V.mock({code:0,message:"ok"})),e.onPut(/\/filter\/\d+\/name/).reply(200,V.mock({code:0,message:"ok"})),e.onDelete(/\/filter\/\d+/).reply(200,V.mock({code:0,message:"ok"}))},Gi=e=>{e.onGet("/qiniu/upload/token").reply(200,V.mock({code:0,message:"ok",data:"fW_XldFDya_pXoz4Sv5V4lT7E7xnTLQe0kjgvk30:dIqJxcY6MPwMJksJkYp58hHa8VY=:eyJzY29wZSI6Im5ld2ZpbGVzZXJ2ZXItcHVibGljLXRlc3QiLCJkZWFkbGluZSI6MTU3NjA2MDk4N30="}))},Wi=e=>{e.onGet("/screen").reply(200,V.mock({code:0,message:"ok"})),e.onPost("/screen").reply(200,V.mock({code:0,message:"ok"}))},qi=e=>{Ri(e),Oi(e),Ni(e),Hi(e),Gi(e),Wi(e)};const O=At.create({baseURL:"/",timeout:1e4,withCredentials:!0});O.interceptors.request.use(e=>e,e=>Promise.reject(e));O.interceptors.response.use(e=>{const t=e.data;return t.code!==void 0&&t.code!==0?(t.code===50008||t.code===50012||t.code,Promise.reject(new Error(t.message||"System Error"))):e},e=>e);{const e=new La(O,{delayResponse:500});qi(e)}function is(){return O.get("/project")}function Zi(e){return O.get(`/project/${e}`)}function ns(e){return O.post("/project",e)}function rs(e,t){return O.put(`/project/${e}/name`,{name:t})}function ss(e){return O.delete(`/project/${e}`)}function ls(e,t,o){return O.put(`/project/${e}/group`,{fromId:t,toId:o})}function cs(e){return O.post(`/project/${e}/copy`)}function us(e){return O.post("/project/group",e)}function ds(e){return O.delete(`/project/group/${e}`)}function ps(e,t){return O.put(`/project/group/${e}/name`,{name:t})}function gs(e){return O.get(`/project/${e}/publish`)}function ms(e,t){return O.post(`/project/${e}/publish`,t)}function fs(e){return`${window.location.origin}/share/#/screen/${e}`}const Q=5,ut=60,dt=60,Ki=(e,t)=>Math.abs(t.attr.y-e.attr.y)<Q||Math.abs(t.attr.y+t.attr.h-e.attr.y)<Q||Math.abs(t.attr.y+t.attr.h/2-e.attr.y)<Q,Yi=(e,t)=>Math.abs(t.attr.y-e.attr.y-e.attr.h)<Q||Math.abs(t.attr.y+t.attr.h-e.attr.y-e.attr.h)<Q||Math.abs(t.attr.y+t.attr.h/2-e.attr.y-e.attr.h)<Q,Ui=(e,t)=>Math.abs(t.attr.x-e.attr.x)<Q||Math.abs(t.attr.x+t.attr.w-e.attr.x)<Q||Math.abs(t.attr.x+t.attr.w/2-e.attr.x)<Q,Ji=(e,t)=>Math.abs(t.attr.x-e.attr.x-e.attr.w)<Q||Math.abs(t.attr.x+t.attr.w-e.attr.x-e.attr.w)<Q||Math.abs(t.attr.x+t.attr.w/2-e.attr.x-e.attr.w)<Q,Qi=(e,t)=>Math.abs(t.attr.x-e.attr.x-e.attr.w/2)<Q||Math.abs(t.attr.x+t.attr.w-e.attr.x-e.attr.w/2)<Q||Math.abs(t.attr.x+t.attr.w/2-e.attr.x-e.attr.w/2)<Q,en=(e,t)=>Math.abs(t.attr.y-e.attr.y-e.attr.h/2)<Q||Math.abs(t.attr.y+t.attr.h-e.attr.y-e.attr.h/2)<Q||Math.abs(t.attr.y+t.attr.h/2-e.attr.y-e.attr.h/2)<Q,tn=(e,t,o)=>{let i=!1,[a,r,n,s,u,m]=Array(6).fill(-1);for(let b=0,x=t.length;b<x;b++){const p=t[b];if(p.id===e.id||p.hided)continue;i=!1;const{attr:c}=e;Ki(e,p)&&(a=c.y*o+dt,i=!0),Yi(e,p)&&(r=(c.y+c.h)*o+dt,i=!0),Ui(e,p)&&(n=c.x*o+ut,i=!0),Ji(e,p)&&(s=(c.x+c.w)*o+ut,i=!0),Qi(e,p)&&(u=(c.x+c.w/2)*o+dt,i=!0),en(e,p)&&(m=(c.y+c.h/2)*o+ut,i=!0),p.hovered=i}return{top:a,right:s,bottom:r,left:n,vertical:u,horizontal:m}},hs=e=>e*Math.PI/180,bs=(e,t)=>{const o=e.x+e.w>=t.x+t.w?e.x+e.w:t.x+t.w,i=e.y+e.h>=t.y+t.h?e.y+e.h:t.y+t.h,a=e.x<=t.x?e.x:t.x,r=e.y<=t.y?e.y:t.y;return o-a<=e.w+t.w&&i-r<=e.h+t.h},on={type:"bar",name:"\u67F1\u72B6\u56FE",icon:"v-icon-chart-bar",data:[{name:"VBasicBar",alias:"\u67F1\u72B6\u56FE",img:"//files.pengxiaotian.com/com/basic-bar-332-144.png",thum:"//files.pengxiaotian.com/com-thum/basic-bar-368-208.png",used:!0},{name:"VArcBar",alias:"\u7389\u73AF\u56FE",img:"//files.pengxiaotian.com/com/arc-bar-160-116.png",thum:"//files.pengxiaotian.com/com-thum/arc-bar-368-208.png",used:!1},{name:"VLineBarChart",alias:"\u6298\u7EBF\u67F1\u56FE",img:"//files.pengxiaotian.com/com/line-bar-chart-332-144.png",thum:"//files.pengxiaotian.com/com-thum/line-bar-chart-368-208.png",used:!1}]},an={type:"horizontal-bar",name:"\u6761\u5F62\u56FE",icon:"v-icon-chart-bar",data:[{name:"VHoriBasicBar",alias:"\u6C34\u5E73\u57FA\u672C\u67F1\u72B6\u56FE",img:"//files.pengxiaotian.com/com/hori-basic-bar-332-144.png",thum:"//files.pengxiaotian.com/com-thum/hori-basic-bar-368-208.png",used:!1}]},nn={type:"line",name:"\u6298\u7EBF\u56FE",icon:"v-icon-chart-line",data:[{name:"VBasicLine",alias:"\u57FA\u672C\u6298\u7EBF\u56FE",img:"//files.pengxiaotian.com/com/basic-line-332-144.png",thum:"//files.pengxiaotian.com/com-thum/basic-line-368-208.png",used:!0}]},rn={type:"area",name:"\u533A\u57DF\u56FE",icon:"v-icon-chart-line",data:[{name:"VBasicArea",alias:"\u533A\u57DF\u56FE",img:"//files.pengxiaotian.com/com/basic-area-332-144.png",thum:"//files.pengxiaotian.com/com-thum/basic-area-368-208.png",used:!1}]},sn={type:"pie",name:"\u997C\u73AF\u56FE",icon:"v-icon-chart-pie",data:[{name:"VBasicPie",alias:"\u57FA\u672C\u997C\u56FE",img:"//files.pengxiaotian.com/com/basic-pie-160-116.png",thum:"//files.pengxiaotian.com/com-thum/basic-pie-368-208.png",used:!1},{name:"VPieOneValue",alias:"\u6307\u6807\u5360\u6BD4\u997C\u56FE",img:"//files.pengxiaotian.com/com/pie-one-value-160-116.png",thum:"//files.pengxiaotian.com/com-thum/pie-one-value-368-208.png",used:!1}]},ln={type:"relation",name:"\u5173\u7CFB\u56FE",icon:"v-icon-relation",data:[{name:"VTree",alias:"\u6811\u56FE",img:"//files.pengxiaotian.com/com/tree.png",thum:"//files.pengxiaotian.com/com/tree.png",used:!1}]},cn={type:"chart",name:"\u5176\u4ED6",icon:"v-icon-other",data:[{name:"VWordCloud",alias:"\u8BCD\u4E91",img:"//files.pengxiaotian.com/com/word-cloud-160-116.png",thum:"//files.pengxiaotian.com/com-thum/word-cloud-370-208.png",used:!0}]},jt={type:"map",name:"\u5730\u56FE",icon:"v-icon-map",data:[{name:"VChina2d",alias:"\u57FA\u7840\u5E73\u9762\u4E2D\u56FD\u5730\u56FE",img:"//files.pengxiaotian.com/com/2d-china-332-144.png",thum:"//files.pengxiaotian.com/com-thum/2d-china-368-208.png",used:!0,children:[{name:"VChina2dArea",alias:"\u533A\u57DF\u70ED\u529B\u5C42",img:"//files.pengxiaotian.com/com/2d-china-area-180-180.png",thum:"//files.pengxiaotian.com/com/2d-china-area-180-180.png",used:!0},{name:"VChina2dBubbles",alias:"\u547C\u5438\u6C14\u6CE1\u5C42",img:"//files.pengxiaotian.com/com/2d-china-bubbles-180-180.png",thum:"//files.pengxiaotian.com/com/2d-china-bubbles-180-180.png",used:!0},{name:"VChina2dFlyingline",alias:"\u98DE\u7EBF\u5C42",img:"//files.pengxiaotian.com/com/2d-china-flyingline-180-180.png",thum:"//files.pengxiaotian.com/com/2d-china-flyingline-180-180.png",used:!0}]},{name:"VMap2d",alias:"\u57FA\u7840\u5E73\u9762\u5730\u56FE",img:"//files.pengxiaotian.com/com/2d-map-664-288.jpg",thum:"//files.pengxiaotian.com/com/2d-map-664-288.jpg",used:!1},{name:"VMap3d",alias:"3D\u5E73\u9762\u5730\u56FE",img:"//files.pengxiaotian.com/com/3d-map-664-288.jpg",thum:"//files.pengxiaotian.com/com/3d-map-664-288.jpg",used:!1},{name:"VEarth3d",alias:"3D\u5730\u7403",img:"//files.pengxiaotian.com/com/3d-earth-664-288.jpg",thum:"//files.pengxiaotian.com/com/3d-earth-664-288.jpg",used:!1}]},un={type:"title",name:"\u6807\u9898",icon:"v-icon-title",data:[{name:"VMainTitle",alias:"\u901A\u7528\u6807\u9898",img:"//files.pengxiaotian.com/com/main-title-332-144.png",thum:"//files.pengxiaotian.com/com-thum/main-title-370-208.png",used:!0},{name:"VMarquee",alias:"\u8DD1\u9A6C\u706F",img:"//files.pengxiaotian.com/com/marquee-332-144.png",thum:"//files.pengxiaotian.com/com-thum/marquee-370-208.png",used:!0},{name:"VNumberTitleFlop",alias:"\u6570\u5B57\u7FFB\u724C\u5668",img:"//files.pengxiaotian.com/com/number-title-flop-160-116.png",thum:"//files.pengxiaotian.com/com-thum/number-title-flop-370-208.png",used:!0},{name:"VParagraph",alias:"\u591A\u884C\u6587\u672C",img:"//files.pengxiaotian.com/com/paragraph-160-116.png",thum:"//files.pengxiaotian.com/com-thum/paragraph-370-208.png",used:!0},{name:"VTimer",alias:"\u65F6\u95F4\u5668",img:"//files.pengxiaotian.com/com/timer-160-116.png",thum:"//files.pengxiaotian.com/com-thum/timer-370-208.png",used:!0}]},dn={type:"list",name:"\u5217\u8868",icon:"v-icon-view-list",data:[{name:"VCarouselTable",alias:"\u8F6E\u64AD\u5217\u8868",img:"//files.pengxiaotian.com/com/carousel-table-332-144.png",thum:"//files.pengxiaotian.com/com-thum/carousel-table-370-208.png",used:!1},{name:"VTableBar",alias:"\u8F6E\u64AD\u5217\u8868\u67F1\u72B6\u56FE",img:"//files.pengxiaotian.com/com/table-bar-332-144.png",thum:"//files.pengxiaotian.com/com-thum/table-bar-370-208.png",used:!1}]},pn={type:"button",name:"\u6309\u94AE\u7C7B",icon:"v-icon-interact",data:[{name:"VFullScreen",alias:"\u5168\u5C4F\u5207\u6362",img:"//files.pengxiaotian.com/com/full-screen-332-144.png",thum:"//files.pengxiaotian.com/com-thum/full-screen-368-208.png",used:!0}]},gn={type:"select",name:"\u9009\u62E9\u7C7B",icon:"v-icon-interact",data:[{name:"VTabList",alias:"Tab\u5217\u8868",img:"//files.pengxiaotian.com/com/tab-list-332-144.png",thum:"//files.pengxiaotian.com/com-thum/tab-list-368-208.png",used:!1}]},mn={type:"interact-data",name:"\u6570\u636E\u7C7B",icon:"v-icon-interact",data:[{name:"VPercentageBar",alias:"\u8FDB\u5EA6\u6761",img:"//files.pengxiaotian.com/com/percentage-bar-332-144.png",thum:"//files.pengxiaotian.com/com-thum/percentage-bar-370-208.png",used:!1}]},fn={type:"material",name:"\u7D20\u6750",icon:"v-icon-material",data:[{name:"VBgBox",alias:"\u81EA\u5B9A\u4E49\u80CC\u666F\u5757",img:"//files.pengxiaotian.com/com/bg-box-334-144.png",thum:"//files.pengxiaotian.com/com-thum/bg-box-370-208.png",used:!0},{name:"VBorderBox",alias:"\u8FB9\u6846",img:"//files.pengxiaotian.com/com/border-box-162-116.png",thum:"//files.pengxiaotian.com/com-thum/border-box-370-208.png",used:!0},{name:"VDecoration",alias:"\u88C5\u9970",img:"//files.pengxiaotian.com/com/decoration-162-116.png",thum:"//files.pengxiaotian.com/com-thum/decoration-370-208.png",used:!0},{name:"VMainImg",alias:"\u5355\u5F20\u56FE\u7247",img:"//files.pengxiaotian.com/com/main-img-334-144.png",thum:"//files.pengxiaotian.com/com-thum/main-img-370-208.png",used:!0}]},hn={type:"other",name:"\u5176\u4ED6",icon:"v-icon-other",data:[{name:"VDatePicker",alias:"\u65E5\u671F\u9009\u62E9\u5668",img:"//files.pengxiaotian.com/com/date-picker.jpg",thum:"//files.pengxiaotian.com/com-thum/time-selector.jpg",used:!0}]},Qt=[{type:"regular",name:"\u56FE\u8868",icon:"v-icon-chart",data:[on,an,nn,rn,sn,ln,cn]},{type:"map",name:"\u5730\u56FE",icon:"v-icon-map",data:[jt]},{type:"text",name:"\u4FE1\u606F",icon:"v-icon-com-info",data:[un]},{type:"table",name:"\u8868\u683C",icon:"v-icon-table",data:[dn]},{type:"interact",name:"\u63A7\u4EF6",icon:"v-icon-interact",data:[pn,gn,mn]},{type:"media",name:"\u5A92\u4F53",icon:"v-icon-media",data:[fn]},{type:"other",name:"\u5176\u4ED6",icon:"v-icon-other",data:[hn]}],ho=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const a=e[o];if(a.name===t)return a;if(a.children){const r=ho(a.children,t);if(r)return r}}return null};function ys(e){const t=jt.data.find(o=>o.name===e);return t&&t.children?t.children:[]}function bn(e){for(let t=0;t<Qt.length;t++){const o=Qt[t];for(let i=0;i<o.data.length;i++){const a=o.data[i],r=ho(a.data,e);if(r)return{classification:o,category:a,com:r}}}return null}const xs=[...jt.data.map(e=>e.name)];var q=(e=>(e.com="com",e.subCom="subCom",e.layer="layer",e))(q||{});class ke{constructor(t,o,i="com"){S(this,"id");S(this,"name");S(this,"type");S(this,"alias");S(this,"icon");S(this,"img");S(this,"locked",!1);S(this,"hided",!1);S(this,"selected",!1);S(this,"hovered",!1);S(this,"renameing",!1);S(this,"tag",0);S(this,"fold");S(this,"scaling",{zoom:!1,w:0,h:0,sx:1,sy:1});S(this,"attr",{x:0,y:0,w:100,h:100,deg:0,opacity:1,filpV:!1,filpH:!1});S(this,"projectId",0);S(this,"parentId");S(this,"children");if(this.id=$e(t),this.name=`V${t}`,this.type=i,i!=="layer"){const a=bn(this.name);this.alias=a.com.alias,this.icon=a.category.icon,this.img=a.com.thum}this.attr=_(_({},this.attr),o),this.scaling.w=o.w,this.scaling.h=o.h}}class vs{constructor(t,o){S(this,"type");S(this,"id");S(this,"name");this.type=t,this.id=$e(o),this.name=o}}class bo extends ke{}const ws=e=>{e.scaling||(e.scaling={zoom:!1,w:e.attr.w,h:e.attr.h,sx:1,sy:1})},yn=e=>({id:e.id,rotate3d:{axis:"y",deg:30},scale3d:{x:1,y:1,lock:!1},translate3d:{x:0,y:0,z:0}}),yo=e=>({transform3d:yn(e)}),he=e=>{const t=[];e.children.forEach(o=>{const i=e.config.find(a=>o.id===a.transform3d.id);t.push(i!=null?i:yo(o))}),e.config=t};class xn extends ke{constructor(t){super("Group",t,q.layer);S(this,"attr",{x:0,y:0,w:100,h:100,deg:0,opacity:1,filpV:!1,filpH:!1,apply3d:!1,perspective:500,perspectiveOrigin:{x:50,y:50}});S(this,"fold",!0);S(this,"config",[]);S(this,"apis");S(this,"apiData");S(this,"events");S(this,"actions");this.alias="\u7EC4",this.icon="group",this.img="//files.pengxiaotian.com/com-thum/group-200-200.png",this.attr=_(_({},this.attr),t),this.scaling={zoom:!1,w:t.w,h:t.h,sx:1,sy:1},this.initData()}initData(){return this.children=[],this}async loadData(){}}function vn(e){return O.get("/coms",{params:{projectId:e}})}function wn(e){return O.delete(`/coms/some?ids=${e.join()}`)}function eo(e){return O.post("/coms",e)}function Sn(e){return O.post(`/coms/${e}/copy`)}var Pe=(e=>(e[e.up=0]="up",e[e.down=1]="down",e[e.top=2]="top",e[e.bottom=3]="bottom",e))(Pe||{}),Cn=(e=>(e[e.auto=0]="auto",e[e.width=1]="width",e[e.height=2]="height",e[e.full=3]="full",e[e.disabled=4]="disabled",e))(Cn||{}),$n=(e=>(e.vertical="vertical",e.horizontal="horizontal",e.copy="copy",e.add="add",e.remove="remove",e))($n||{});const xo=(e,t)=>{e.forEach(o=>{o.id=$e(o.name),o.parentId=t,o.alias+="_copy";for(const i in o.apiData)o.apiData[i].id=$e(),o.apiData[i].comId=o.id;o.type===q.layer&&(xo(o.children,o.id),he(o))})},pt=(e,t)=>{const o=Ia(e);o.id=$e(o.name),o.parentId=t,o.alias+="_copy",o.hovered=!1,o.selected=!0,o.renameing=!1,t||(o.attr.x+=30,o.attr.y+=30);for(const i in o.apiData)o.apiData[i].id=$e(),o.apiData[i].comId=o.id;return o.type===q.layer&&(xo(o.children,o.id),he(o)),o},de=(e,t)=>{for(let o=0,i=e.length;o<i;o++){const a=e[o];if(a.id===t)return a;if(a.type===q.layer){const r=de(a.children,t);if(r)return r}}return null},kn=(e,t)=>{if(!t)return e;for(let o=0,i=e.length;o<i;o++){const a=e[o];if(a.id===t)return a.children;if(a.type===q.layer){const r=a.children.find(n=>n.id===t);if(r)return r.children}}},fe=(e,t)=>{const o=typeof t=="string"?t:t.id;return e.findIndex(i=>i.id===o)},vo=(e,t,o,i=!1,a)=>{for(let r=0,n=e.length;r<n;r++){const s=e[r];if(s.hovered=!1,i){if(s.id===t&&(s.selected=!s.selected,s.parentId!=o)){a==null||a(),s.selected=!0;break}}else s.selected=s.id===t;s.type===q.layer&&vo(s.children,t,o,i,a)}},yt=e=>{e.forEach(t=>{t.hovered=!1,t.selected=!1,t.type===q.layer&&yt(t.children)})},wo=e=>{let t=e.filter(o=>o.selected);if(t.length>0)return t;for(let o=0,i=e.length;o<i;o++){const a=e[o];if(a.type===q.layer&&(t=wo(a.children),t.length>0))return t}return t},gt=e=>e.reduce((t,{attr:o})=>(t.x+=o.x,t.y+=o.y,t),{x:0,y:0}),_n=e=>{let t=!1,o=!1;if(e.type===q.layer)for(let i=0,a=e.children.length;i<a;i++){const r=e.children[i];if(r.selected&&(o=r.selected),r.hovered&&(t=r.hovered),!o&&r.type===q.layer){const n=_n(r);n.selected&&(o=n.selected),n.hovered&&(t=n.hovered)}if(o&&t)break}return{hovered:t,selected:o}},Oe=xe("com",{state:()=>({coms:[],subComs:[]}),getters:{selectedComs(e){return wo(e.coms)},selectedCom(){const e=this.selectedComs;return e.length===1?e[0]:null},selectedSubCom(e){const t=this.selectedCom;return t?e.subComs.find(i=>i.selected&&i.parentId===t.id):null}},actions:{load(e){const t=[],o=[];e.forEach(i=>{i.type===q.subCom?o.push(i):t.push(i)}),this.coms=t,this.subComs=o},getCom(e){return de(this.coms,e)},select(e,t,o=!1){if(e){let i=t;if(o){const a=this.selectedComs;a.length>0&&(i=a[0].parentId)}vo(this.coms,e,i,o,()=>{yt(this.coms)})}else yt(this.coms)},selects(e){const t=this.selectedComs;if(e.selected||t.length>0){if(e.parentId!=t[0].parentId){this.select(e.id,e.parentId);return}const o=kn(this.coms,e.parentId);let i=fe(o,t[0]);const a=fe(o,e);if(t.length>1){const s=i,u=t[t.length-1];if(u.id!==e.id){const m=fe(o,u);i=Math.abs(a-s)>Math.abs(a-m)?m:s}}if(i===a)return;const r=Math.min(i,a),n=Math.max(i,a);o.forEach((s,u)=>{s.selected=r<=u&&u<=n})}else e.selected=!0},selectSubCom(e){this.subComs.forEach(t=>{t.selected=t.id===e})},getParents(e){const t=[],o=i=>{const a=de(this.coms,i);t.push(a),a.parentId&&o(a.parentId)};return e&&o(e),t},resizeParents(e){const t=o=>{let i=1/0,a=1/0,r=-1/0,n=-1/0;o.children.forEach(({attr:s})=>{s.x+=o.attr.x,s.y+=o.attr.y,i=Math.min(s.y,i),a=Math.min(s.x,a),r=Math.max(s.x+s.w,r),n=Math.max(s.y+s.h,n)}),o.attr.x=a,o.attr.y=i,o.attr.w=r-a,o.attr.h=n-i,o.children.forEach(({attr:s})=>{s.x-=a,s.y-=i})};Array.isArray(e)?e.forEach(o=>{t(o)}):t(e)},resizeChildren(e){const{sx:t,sy:o}=e.scaling,i=a=>{a.forEach(r=>{const{attr:n}=r;n.x=Math.round(n.x*t),n.y=Math.round(n.y*o),n.w=Math.round(n.w*t),n.h=Math.round(n.h*o),r.type===q.layer&&i(r.children)})};i(e.children)},move(e,t,o){let i=null,a=-1,r=0;o?(i=de(this.coms,o),a=fe(i.children,t),r=i.children.length):(a=fe(this.coms,t),r=this.coms.length),e===Pe.up?a>0&&(i?i.children.splice(a-1,0,...i.children.splice(a,1)):this.coms.splice(a-1,0,...this.coms.splice(a,1))):e===Pe.down?a+1<r&&(i?i.children.splice(a+1,0,...i.children.splice(a,1)):this.coms.splice(a+1,0,...this.coms.splice(a,1))):e===Pe.top?a>0&&(i?i.children.unshift(...i.children.splice(a,1)):this.coms.unshift(...this.coms.splice(a,1))):e===Pe.bottom&&a+1<r&&(i?i.children.push(...i.children.splice(a,1)):this.coms.push(...this.coms.splice(a,1))),i&&he(i)},moveTo(e,t,o){const i=this.selectedComs,a=i[0].parentId;if(e===0){let n=this.coms.length-t;if(a==o.parentId){const s=this.coms.filter(m=>!m.selected),u=this.coms[n];u&&(n=fe(s,u)),s.splice(n,0,...i),this.coms=s}else{const s=this.getParents(a),u=s[0];u.children=u.children.filter(b=>!b.selected);const m=gt(s);i.forEach(b=>{b.parentId=o.parentId,b.attr.x+=m.x,b.attr.y+=m.y}),this.coms.splice(n,0,...i),u.children.length===0?this.removes([u.id],u.parentId):this.resizeParents(s)}return}const r=n=>{if(n.type!==q.layer||n.fold)return!1;for(let s=0,u=n.children.length;s<u;s++){const m=n.children[s];if(m.id===o.id){let b=u-t;if(a==o.parentId){const x=n.children.filter(c=>!c.selected),p=n.children[b];p&&(b=fe(x,p)),x.splice(b,0,...i),n.children=x,he(n)}else{const x=this.getParents(a),p=this.getParents(o.parentId),c=gt(x),l=gt(p);if(a){const d=x[0];d.children=d.children.filter(v=>!v.selected),d.children.length===0?this.removes([d.id],d.parentId):(this.resizeParents(x),he(d))}else this.coms=this.coms.filter(d=>!d.selected);i.forEach(d=>{d.parentId=o.parentId,d.attr.x+=c.x-l.x,d.attr.y+=c.y-l.y}),n.children.splice(b,0,...i),this.resizeParents(p),he(n)}return!0}else if(m.id===o.parentId&&r(m))return!0}return!1};for(let n=0,s=this.coms.length;n<s&&!r(this.coms[n]);n++);},sortSubCom(e,t,o){const i=fe(this.subComs,e);let a=fe(this.subComs,t);o&&(a+=1),this.subComs.splice(a,0,...this.subComs.splice(i,1))},getSubComs(e){return this.subComs.filter(t=>t.parentId===e)},async request(e){try{const t=await vn(e);if(t.data.code===0)this.load(t.data.data);else throw Error(t.data.message)}catch(t){throw t}},async delete(e){await this.deletes([e])},async deletes(e){try{const t=e.map(i=>i.id),o=await wn(t);if(o.data.code===0){const i=e[0];i.type===q.subCom?this.subComs=this.subComs.filter(a=>!t.includes(a.id)):(this.subComs=this.subComs.filter(a=>!t.includes(a.parentId)),this.removes(t,i.parentId))}else throw Error(o.data.message)}catch(t){throw t}},removes(e,t){if(t){const o=de(this.coms,t);o.children=o.children.filter(i=>!e.includes(i.id)),o.children.length===0?this.removes([o.id],o.parentId):he(o)}else this.coms=this.coms.filter(o=>!e.includes(o.id))},async add(e){try{const t=await eo(e);if(t.data.code===0)e.type===q.subCom?this.subComs.push(e):this.coms.push(e);else throw Error(t.data.message)}catch(t){throw t}},async addComs(e){try{const t=await eo(e);if(t.data.code===0)for(const o of e)o.type===q.subCom?this.subComs.push(o):this.coms.push(o);else throw Error(t.data.message)}catch(t){throw t}},async copy(e,t=q.com){try{const o=await Sn(e);if(o.data.code===0){if(t===q.com){const i=de(this.coms,e);if(i){i.hovered=!1,i.selected=!1;const a=pt(i,i.parentId),r=this.getSubComs(i.id).map(n=>pt(n,a.id));if(a.parentId){const n=de(this.coms,a.parentId);n.children.push(a),he(n)}else this.coms.push(a);this.subComs.push(...r)}}else if(t===q.subCom){const i=de(this.subComs,e);if(i){const a=pt(i,i.parentId);this.subComs.push(a)}}}else throw Error(o.data.message)}catch(o){throw o}},createGroup(){const e=this.selectedComs;let t=1/0,o=1/0,i=-1/0,a=-1/0;e.forEach(({attr:n})=>{t=Math.min(n.y,t),o=Math.min(n.x,o),i=Math.max(n.x+n.w,i),a=Math.max(n.y+n.h,a)});const r=new xn({x:o,y:t,w:i-o,h:a-t});if(r.parentId=e[0].parentId,r.children.push(...e),r.children.forEach(n=>{n.parentId=r.id,n.attr.x-=r.attr.x,n.attr.y-=r.attr.y,r.config.push(yo(n))}),r.parentId){const n=de(this.coms,r.parentId);n.children=n.children.filter(s=>!s.selected)}else this.coms=this.coms.filter(n=>!n.selected);this.add(r).then(()=>{this.select(r.id)})},cancelGroup(){const e=this.selectedComs,t=e.map(a=>a.id).join(),o=e[0].parentId,i=e.flatMap(a=>(a.children.forEach(r=>{r.parentId=o,r.attr.x+=a.attr.x,r.attr.y+=a.attr.y}),a.children));if(o){const a=de(this.coms,o);a.children=a.children.filter(r=>!t.includes(r.id)),a.children.push(...i),he(a)}else this.coms=this.coms.filter(a=>!t.includes(a.id)),this.coms.push(...i)}}}),Rt=xe("blueprint",{state:()=>({flows:[],events:{}}),actions:{async setFlows(e){this.flows=e},async onApiRequestCompleted(){},setEvent(e,t,o){this.events[e]?this.events[e][t]=o:this.events[e]={[t]:o}},deleteEvent(e,t){this.events[e]&&(this.events[e][t]=null)},clearEvent(e){this.events[e]&&(this.events[e]=null)}}}),De=xe("event",{state:()=>({componentsView:{},publishersView:{},subscribersView:{},variables:{}}),actions:{setPublishersView(e,t,o){const i=this.publishersView,a=Object.keys(i);new Set([...t,...a]).forEach(n=>{o?a.includes(n)?i[n].includes(e)?t.includes(n)||(i[n]=i[n].filter(s=>s!==e)):i[n].push(e):i[n]=[e]:a.includes(n)&&(i[n]=i[n].filter(s=>s!==e)),i[n].length===0&&delete i[n]})},setSubscribersView(e,t){const o=this.subscribersView,i=Ai(t).map(n=>n.substring(1)),a=Object.keys(o),r=new Set([...i,...a]);for(const n of r)i.length>0?a.includes(n)?o[n].includes(e)?i.includes(n)||(o[n]=o[n].filter(s=>s!==e)):o[n].push(e):o[n]=[e]:a.includes(n)&&(o[n]=o[n].filter(s=>s!==e)),o[n].length===0&&delete o[n]},async setVariables(e,t){const o={};for(const i of Object.keys(e)){const a=e[i]||i;o[a]=t[i]}this.variables=_(_({},this.variables),o)},handleSubVariablesChange(e,t,o){var n,s;const i=(n=this.componentsView[e])==null?void 0:n[t];if(!i||!i.enable)return;this.setVariables(i.fields,o);const a=Rt(),r=this.subscribersView;for(const u of Object.keys(i.fields)){const m=i.fields[u]||u;(s=r[m])==null||s.forEach(b=>{var x;(x=a.events[b])==null||x.requestData()})}}}}),Fn=xe("editor",{state:()=>({editMode:!1,screen:{id:0,name:"",share:"",thumbnail:"",groupId:0},pageConfig:{width:1920,height:1080,bgimage:"//files.pengxiaotian.com/datav/bj.png",bgcolor:"rgba(13,42,67,0)",grid:8,screenshot:"",zoomMode:1,useWatermark:!0,styleFilterParams:{enable:!1,hue:0,saturate:100,brightness:100,contrast:100,opacity:100}},canvas:{scale:.2,width:1920,height:1080},guideLine:{h:[],v:[]},referLine:{enable:!0},alignLine:{enable:!1,show:!1,top:0,bottom:0,left:0,right:0,vertical:0,horizontal:0},areaData:{top:0,left:0,width:0,height:0},contextMenu:{show:!1},isNormalResizeMode:!0}),actions:{setEditMode(){this.editMode=!0},setEditorOption(e){e.screen&&(this.screen=_(_({},this.screen),e.screen)),e.config&&(this.pageConfig=_(_({},this.pageConfig),e.config)),e.guideLine&&(this.guideLine=_({},e.guideLine))},calcAlignLine(e){if(!this.alignLine.enable)return;const t=Oe(),o=tn(e,t.coms,this.canvas.scale);this.alignLine=J(_(_({},this.alignLine),o),{show:!0})},hideAlignLine(e){if(!this.alignLine.enable)return;const t=Oe();this.alignLine.show&&(this.alignLine.show=!1,t.select(e))},async autoCanvasScale(e){const t=We(()=>{const{x:o,y:i}=e(),a=document.documentElement.clientWidth-o,r=document.documentElement.clientHeight-i,n=(a-180)/this.pageConfig.width,s=(r-200)/this.pageConfig.height,u=parseFloat((n>s?s:n).toFixed(6))*100;this.setCanvasScale(u,o,i)},200);window.onresize=t,t()},async setCanvasScale(e,t,o){let i=document.documentElement.clientWidth-t-4,a=document.documentElement.clientHeight-o-4;const r=Math.min(Math.max(e,10),200)/100,n=this.pageConfig.width*r,s=this.pageConfig.height*r;i<n&&(i=n+400),a<s&&(a=s+390),this.canvas={scale:r,width:i,height:a}},async loadScreen(e){try{const t=De(),{data:o}=await Zi(e);if(o.code===0){const{config:i}=o.data;this.setEditorOption({screen:{id:e,name:o.data.name},config:{bgcolor:i.bgcolor,width:i.width,height:i.height,bgimage:i.bgimage,screenshot:i.screenshot,zoomMode:i.zoomMode,useWatermark:i.useWatermark,grid:i.grid,styleFilterParams:i.styleFilterParams}});const{componentsView:a,publishersView:r,subscribersView:n}=i.variables;t.$patch({componentsView:a,publishersView:r,subscribersView:n})}else throw Error(o.message)}catch(t){throw t}}}});function Xn(e){return O.get("/filter",{params:{projectId:e}})}function En(e){return O.post("/filter",e)}function Dn(e){return O.put(`/filter/${e.id}`,e)}function Tn(e){return O.put(`/filter/${e.id}/name`,e)}function Pn(e){return O.delete(`/filter/${e}`)}const zn=xe("filter",{state:()=>({dataFilters:[]}),actions:{async request(e){try{const t=await Xn(e);if(t.data.code===0)this.dataFilters=t.data.data;else throw Error(t.data.message)}catch(t){throw t}},async create(e){try{const t=await En(e);if(t.data.code===0)return e.id=t.data.data,e.createAt=le().format("YYYY-MM-DD HH:mm:ss"),e.updateAt=e.createAt,this.dataFilters.push(e),t.data.data;throw Error(t.data.message)}catch(t){throw t}},async update(e){try{const t=await Dn(e);if(t.data.code===0){const o=this.dataFilters.find(i=>i.id===e.id);Object.assign(o,{name:e.name,code:e.code,origin:e.origin,updateAt:le().format("YYYY-MM-DD HH:mm:ss")})}else throw Error(t.data.message)}catch(t){throw t}},async updateName(e){try{const t=await Tn(e);if(t.data.code===0){const o=this.dataFilters.find(i=>i.id===e.id);Object.assign(o,{name:e.name,updateAt:le().format("YYYY-MM-DD HH:mm:ss")})}else throw Error(t.data.message)}catch(t){throw t}},async delete(e){try{const t=await Pn(e);if(t.data.code===0){const o=this.dataFilters.findIndex(i=>i.id===e);this.dataFilters.splice(o,1)}else throw Error(t.data.message)}catch(t){throw t}}}});var Bn=(e=>(e.layer="layer",e.components="components",e.config="config",e.toolbox="toolbox",e.filter="filter",e))(Bn||{});const xt="panel-state";function Ie(e){try{const t=localStorage.getItem(xt)||"";return JSON.parse(t)[e]==="1"}catch{return e!=="components"}}function Ln(e,t){let o={};try{const i=localStorage.getItem(xt)||"{}";o=JSON.parse(i),o[e]=t}catch{o[e]=t}localStorage.setItem(xt,JSON.stringify(o))}const In=xe("toolbar",{state:()=>({layer:{show:Ie("layer")},components:{show:Ie("components")},config:{show:Ie("config")},toolbox:{show:Ie("toolbox")},filter:{show:!1},loading:0}),getters:{getPanelOffset(e){let t=0,o=41,i=60,a=100;return e.layer.show&&(t+=200,i+=200),e.components.show?(t+=324,i+=324):(t+=45,i+=45),e.toolbox.show&&(o+=40,a+=40),e.config.show&&(t+=332),{x:t,y:o,left:i,top:a}}},actions:{setPanelState(e,t){switch(e){case"components":this.components.show=t;break;case"config":this.config.show=t;break;case"layer":this.layer.show=t;break;case"toolbox":this.toolbox.show=t;break}Ln(e,t?"1":"0")},setFilterState(e){this.filter.show=e},addLoading(){this.loading=this.loading+1},removeLoading(){this.loading=Math.max(this.loading-1,0)},removeAllLoading(){this.loading=0}}});var vt=(e=>(e.static="static",e.api="api",e))(vt||{}),Mn=(e=>(e.loading="loading",e.success="success",e.failed="failed",e.completed="completed",e.incomplete="incomplete",e))(Mn||{}),Fe=(e=>(e.loading="loading",e.success="success",e.failed="failed",e.optional="optional",e))(Fe||{}),So=(e=>(e.GET="GET",e.POST="POST",e))(So||{});function Qe(e,t,o="source"){e.apis||(e.apis={}),e.apis[o]=J(_({fields:{},description:"",useAutoUpdate:!1,autoUpdate:1},t),{handler:o==="source"?"render":`set${Ma(o)}`})}function et(e,t,o="source"){e.apiData||(e.apiData={}),e.apiData[o]=J(_({id:$e(),type:"static",pageFilters:[],config:{useFilter:!1,data:""}},t),{comId:e.id})}function Ss(){return{static:"\u9759\u6001\u6570\u636E",api:"API"}}function Cs(e){e.api===void 0&&Object.assign(e,{api:"",apiMethod:"GET",apiHeaders:"{}",apiBody:"{}",cookie:!1,local:!1})}const Ne=At.create();Ne.interceptors.request.use(e=>e,e=>Promise.reject(e));Ne.interceptors.response.use(e=>e.data,e=>Promise.reject(e));const me=xe("api",{state:()=>({dataMap:{}}),actions:{async setData(e,t,o){Me(this.dataMap,`${e}.${t}`,o)},async requestData(e,t,o){const i=De(),{type:a,config:r}=o;let n;if(a===vt.static)n=r.data;else if(a===vt.api){if(!r.api)return[];if(!Mi(r.api))throw Error("url must contains protocol field, like http:");try{const s={headers:lt(r.apiHeaders,{}),withCredentials:r.cookie},u=Vi(r.api,i.variables);r.apiMethod===So.GET?n=await Ne.get(u,s):n=await Ne.post(u,lt(r.apiBody,{}),s)}catch{throw Error("connectFailed")}}return lt(n,[])}}}),An=xe("debug",{state:()=>({debug:!1,originMap:{},fieldStatusMap:{},dataStatusMap:{}}),actions:{enable(){this.debug=!0},stop(){this.debug=!1},async setOrigin(e,t,o){this.debug&&Me(this.originMap,`${e}.${t}`,o)},async setFieldStatus(e,t,o){this.debug&&Me(this.fieldStatusMap,`${e}.${t}`,o)},async setDataStatus(e,t,o,i){this.debug&&Me(this.dataStatusMap,`${e}.${t}.${o}`,i)}}});function $s(e,t){console.error(`[datav/${e}]: ${t}`)}function Vn(e,t){throw new Error(`[datav/${e}]: ${t}`)}function jn(e,t,o){if(e.length&&t&&t.length){let i=o,a=0;try{t.forEach(({id:r,enabled:n})=>{if(n){const s=e.find(u=>u.id===r);s&&(a=r,i=new Function("data",s.code)(i))}})}catch(r){Vn(`\u8FC7\u6EE4\u5668/${a}`,r.message)}return i}return o}const ge=e=>{const t=Object.create(null);for(const[o,i]of Object.entries(e))t[o]=i.map||o;return t},to=(e,t)=>Object.keys(e).reduce((o,i)=>(o[i]=t,o),Object.create(null)),Rn=(e,t)=>{let o=null;return Va(e)?o=e:ja(e)&&(o=e[0]),Object.entries(t).reduce((i,[a,r])=>(o&&Li(o,r.map||a)?i[a]=Fe.success:r.optional?i[a]=Fe.optional:i[a]=Fe.failed,i),Object.create(null))},mt=async(e,t,o,i)=>{const a=me(),r=In(),n=zn(),s=An();r.addLoading(),s.setFieldStatus(e,t,to(o.fields,Fe.loading));let u=!1,m;try{m=await a.requestData(e,o,i),s.setOrigin(e,t,m)}catch(b){u=!0,m={isError:u,message:b.message},s.setDataStatus(e,t,"api",m.message)}if(!u)try{i.config.useFilter?m=jn(n.dataFilters,i.pageFilters,m):s.setDataStatus(e,t,"filter","")}catch(b){u=!0,m={isError:u,message:b.message},s.setDataStatus(e,t,"filter",m.message)}u&&ji().error(m.message),a.setData(e,t,m),setTimeout(()=>{s.setFieldStatus(e,t,u?to(o.fields,Fe.failed):Rn(m,o.fields)),r.removeLoading()},3e3)},ce=e=>{const t=Fn(),o=Rt(),{apis:i,apiData:a}=Aa(e),r=Object.keys(e.apis),n=R([]),s=(l,d)=>{if(d.useAutoUpdate&&d.autoUpdate>0){const v=window.setInterval(()=>{mt(e.id,l,d,a.value[l])},d.autoUpdate*1e3);n.value.push(v)}},u=()=>{r.forEach(l=>{s(l,i.value[l])})},m=(l,d)=>{const v=a.value[l];Ee([d,()=>v.type,v.config],()=>{mt(e.id,l,d,v)},{deep:!0,immediate:!0})},b=()=>{n.value.forEach(l=>x(l))},x=l=>{clearInterval(l)};(()=>{r.forEach(l=>{m(l,i.value[l])})})(),t.editMode||u(),qe(()=>{b(),o.clearEvent(e.id)});const c=We(()=>{b();const l=r.map(d=>mt(e.id,d,i.value[d],a.value[d]));Promise.all(l).then(()=>{u()})},300);o.setEvent(e.id,"requestData",c)},On=H({name:"VMainTitle",props:{com:{type:Object,required:!0}},setup(e){const t=me();ce(e.com);const o=g(()=>{var p,c;return(c=(p=t.dataMap[e.com.id])==null?void 0:p.source)!=null?c:{}}),i=g(()=>ge(e.com.apis.source.fields)),a=j(e.com,"config"),r=j(e.com,"attr"),n=g(()=>{const p={width:`${r.value.w}px`,height:`${r.value.h}px`,"font-family":`${a.value.textStyle.fontFamily}, Arial, sans-serif`,"font-size":`${a.value.textStyle.fontSize}px`,"font-weight":a.value.textStyle.fontWeight,"justify-content":a.value.textAlign,"writing-mode":a.value.writingMode,"letter-spacing":`${a.value.letterSpacing}px`,"background-color":"initial",border:"none","border-radius":"0px",transform:"translateZ(0px)",display:"flex","align-items":"center","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"};if(a.value.backgroundStyle.show){const c=a.value.backgroundStyle;p["background-color"]=c.bgColor,p.border=`${c.borderWidth}px ${c.borderStyle} ${c.borderColor}`,p["border-radius"]=`${c.borderRadius}px`}return p}),s=g(()=>{const p={color:a.value.textStyle.color,overflow:"unset","text-overflow":"unset","white-space":"unset","background-image":"none","background-clip":"unset","-webkit-text-fill-color":"initial"};return a.value.ellipsis&&(p.overflow="hidden",p["text-overflow"]="ellipsis",p["white-space"]="nowrap"),p}),u=g(()=>{const p={display:"block","text-decoration":"none",color:a.value.textStyle.color,overflow:"unset","text-overflow":"unset","white-space":"unset","background-image":"none","background-clip":"unset","-webkit-text-fill-color":"initial"};return a.value.ellipsis&&(p.overflow="hidden",p["text-overflow"]="ellipsis",p["white-space"]="nowrap"),p}),m=g(()=>{var p;return(p=o.value[i.value.title])!=null?p:a.value.title}),b=g(()=>{var p;return(p=o.value[i.value.url])!=null?p:a.value.urlConfig.url}),x=g(()=>a.value.urlConfig.isBlank?"_blank":"_self");return{titleStyle:n,wordStyle:s,urlStyle:u,titleText:m,urlText:b,urlTarget:x}}}),Nn=["href","target"];function Hn(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.titleStyle)},[e.urlText?($(),F("a",{key:0,href:e.urlText,target:e.urlTarget,style:X(e.urlStyle)},se(e.titleText),13,Nn)):($(),F("span",{key:1,style:X(e.wordStyle)},se(e.titleText),5))],4)}var wt=ae(On,[["render",Hn]]);wt.install=e=>{e.component("VMainTitle",wt),e.component("VMainTitleProp",U(()=>z(()=>import("./config.32e52af7.js"),["assets/config.32e52af7.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"])))};let ft=null;const Gn=(e,t)=>{ft||(ft=document.createElement("canvas"));const o=ft.getContext("2d");return o.font=t,o.font,o.measureText(e).width},Wn=H({name:"VNumberTitleFlop",props:{com:{type:Object,required:!0}},setup(e){const t=me();ce(e.com);const o=R(null),i=g(()=>{var h,E;return(E=(h=t.dataMap[e.com.id])==null?void 0:h.source)!=null?E:{}}),a=g(()=>ge(e.com.apis.source.fields)),r=R(0),n=j(e.com,"config"),s=j(e.com,"attr"),u=g(()=>i.value[a.value.title]||n.value.title.content),m=g(()=>{var h;return(h=i.value[a.value.prefix])!=null?h:n.value.counter.prefix.content}),b=g(()=>{var h;return(h=i.value[a.value.suffix])!=null?h:n.value.counter.suffix.content}),x=g(()=>n.value.numbers.separatingSymbol?n.value.numbers.separatingSymbol.charAt(0):","),p=g(()=>n.value.numbers.decimalSymbol?n.value.numbers.decimalSymbol.charAt(0):"."),c=g(()=>n.value.numbers.duration>0?n.value.numbers.duration:0),l=g(()=>{const{numbers:h}=n.value;let E=ue.toFixed(r.value,h.decimal);const re=E.includes(".");let[M,N=""]=E.split(".");if(h.digit>0){const y=h.digit-N.length;y>0?M=(Array(y).join("0")+M).slice(-y):(M="0",N=N.slice(0,y||-1))}return h.separatingChart&&(M=M.replace(/(?=\B(\d{3})+($|\.))/g,x.value)),(re?`${M}${p.value}${N}`:M).split("")}),d=g(()=>{const h=n.value.global.arrangement;let E={};return h==="top"?E={display:"block",alignItems:"start",flexDirection:"column"}:h==="left"?E={display:"flex",alignItems:"baseline",flexDirection:"row"}:h==="bottom"&&(E={display:"flex",alignItems:"start",flexDirection:"column-reverse"}),_({width:`${s.value.w}px`,height:`${s.value.h}px`},E)}),v=g(()=>{const{fontFamily:h,arrangement:E,distance:re}=n.value.global,{textStyle:M}=n.value.title,N={display:"flex",alignItems:"center",color:M.color,fontWeight:M.fontWeight,fontFamily:`${h}, Arial, sans-serif`,fontSize:`${M.fontSize}px`,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",lineHeight:"normal",margin:"0px",justifyContent:M.textAlign,width:"100%"};return E==="top"?N.margin=`0px 0px ${re}px`:E==="left"?(N.width="auto",N.margin=`0px ${re}px 0px 0px`):E==="bottom"&&(N.margin=`${re}px 0px 0px`),N}),w=g(()=>{const{title:h,counter:E,numbers:re,global:M}=n.value,N={display:"flex",alignItems:"baseline",color:re.textStyle.color,textAlign:"center",whiteSpace:"nowrap",justifyContent:E.justifyContent,fontFamily:E.fontFamily,backgroundColor:"rgba(0, 0, 0, 0)"},ve=`${h.textStyle.fontWeight} ${h.textStyle.fontSize}px ${M.fontFamily}, Arial, sans-serif`,y=Gn(u.value,ve),k=h.textStyle.fontSize+10,C=M.arrangement;return C==="top"||C==="bottom"?(N.width=`${s.value.w}px`,N.height=`${s.value.h-k}px`):C==="left"&&(N.width=`${s.value.w-y}px`,N.height=`${s.value.h}px`),N}),G=g(()=>{const{prefix:h,margin:E}=n.value.counter;return{marginRight:`${E.preNum}px`,color:h.textStyle.color,fontSize:`${h.textStyle.fontSize}px`,fontWeight:h.textStyle.fontWeight,VerticalAlign:"super",fontFamily:n.value.global.fontFamily}}),I=g(()=>{const{suffix:h,margin:E}=n.value.counter;return{marginLeft:`${E.numSuff}px`,color:h.textStyle.color,fontSize:`${h.textStyle.fontSize}px`,fontWeight:h.textStyle.fontWeight,VerticalAlign:"super",fontFamily:n.value.global.fontFamily}}),ie=g(()=>{const{numbers:h}=n.value,E={display:"inline-block",textIndent:"0.02em",letterSpacing:"0.02em",height:"auto",lineHeight:"normal",backgroundColor:h.bgColor,fontSize:`${h.textStyle.fontSize}px`,fontWeight:h.textStyle.fontWeight,marginRight:`${h.marginRight}em`,borderRadius:`${h.bgRadius}px`};return h.fixedWidth>0&&(E.width=`${h.fixedWidth}px`),E}),K=g(()=>{const{numbers:h}=n.value,E={display:"inline-block",textIndent:"0.02em",letterSpacing:"0.02em",height:"auto",lineHeight:"normal",fontSize:`${h.textStyle.fontSize}px`,fontWeight:h.textStyle.fontWeight,marginRight:`${h.marginRight}em`,borderRadius:`${h.bgRadius}px`};return h.bgSeparating&&(E.backgroundColor=h.bgColor),E});return Ra(()=>{const{numbers:h}=n.value;let E=i.value[a.value.value]||0;const re=h.divisor||0;re!==0&&(E=Oa.divide(E,re)),h.animation?Na.to(r,{duration:c.value/1e3,value:E}):r.value=E}),{titleRef:o,titleText:u,prefixText:m,suffixText:b,separatingSymbol:x,decimalSymbol:p,duration:c,realNumber:l,wrapperStyle:d,titleStyle:v,counterStyle:w,prefixStyle:G,suffixStyle:I,numberStyle:ie,separateCharStyle:K}}});function qn(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.wrapperStyle)},[P("div",{ref:"titleRef",style:X(e.titleStyle)},se(e.titleText),5),P("div",{style:X(e.counterStyle)},[P("span",{style:X(e.prefixStyle)},se(e.prefixText),5),($(!0),F(be,null,ye(e.realNumber,(n,s)=>($(),F("span",{key:s,style:X([n===e.separatingSymbol?e.separateCharStyle:e.numberStyle])},se(n),5))),128)),P("span",{style:X(e.suffixStyle)},se(e.suffixText),5)],4)],4)}var St=ae(Wn,[["render",qn]]);St.install=e=>{e.component("VNumberTitleFlop",St),e.component("VNumberTitleFlopProp",U(()=>z(()=>import("./config.5d167ab4.js"),["assets/config.5d167ab4.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"])))};const Zn=H({name:"VMarquee",props:{com:{type:Object,required:!0}},setup(e){const t=me();ce(e.com);const o=g(()=>{var I,ie;return(ie=(I=t.dataMap[e.com.id])==null?void 0:I.source)!=null?ie:{}}),i=g(()=>ge(e.com.apis.source.fields)),a=j(e.com,"config"),r=j(e.com,"attr"),n=R(null),s=R(null),u=R(""),m=R(""),b=R(0),x=R(0),p=R(0),c=g(()=>({width:`${r.value.w}px`,height:`${r.value.h}px`,fontFamily:`${a.value.textStyle.fontFamily}, Arial, sans-serif`,fontSize:`${a.value.textStyle.fontSize}px`,color:a.value.textStyle.color,"font-weight":a.value.textStyle.fontWeight})),l=g(()=>({display:"inline-block",transform:u.value,transition:m.value})),d=g(()=>o.value[i.value.value]||""),v=g(()=>{let I=`<div style="display: inline-block;min-width: ${b.value}px">${d.value}<i style="display:inline-block; width:80px;"></i></div>`;return I+I}),w=()=>{He(()=>{if(s.value&&(b.value=s.value.offsetWidth/2),b.value>r.value.w){let I=0;a.value.ifSpeed?I=a.value.speed/100*b.value:I=a.value.duration,u.value=`translateX(-${b.value}px)`,m.value=`transform ${I}ms linear 0s`,x.value=window.setTimeout(()=>{u.value="translateX(0)",m.value="none 0s ease 0s",a.value.loop&&(a.value.timeout>0?p.value=window.setTimeout(w,a.value.timeout):w())},I)}else b.value=r.value.w,u.value="translateX(0)",m.value="none 0s ease 0s"})},G=We(w,500);return Ee([c,d],()=>{clearTimeout(x.value),clearTimeout(p.value),b.value=r.value.w,u.value="translateX(0)",m.value="none 0s ease 0s",G()}),Ge(()=>{G()}),qe(()=>{clearTimeout(x.value),clearTimeout(p.value)}),{marqueeRef:n,marqueeTextRef:s,wrapperStyle:c,textStyle:l,content:v}}}),Kn={ref:"marqueeRef",style:{"white-space":"nowrap",overflow:"hidden"}},Yn=["innerHTML"];function Un(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.wrapperStyle)},[P("div",Kn,[P("div",{ref:"marqueeTextRef",style:X(e.textStyle),innerHTML:e.content},null,12,Yn)],512)],4)}var Ct=ae(Zn,[["render",Un]]);Ct.install=e=>{e.component("VMarquee",Ct),e.component("VMarqueeProp",U(()=>z(()=>import("./config.240e486d.js"),["assets/config.240e486d.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"])))};const Jn=H({name:"VParagraph",props:{com:{type:Object,required:!0}},setup(e){const t=me();ce(e.com);const o=g(()=>{var w,G;return(G=(w=t.dataMap[e.com.id])==null?void 0:w.source)!=null?G:{}}),i=g(()=>ge(e.com.apis.source.fields)),a=j(e.com,"config"),r=j(e.com,"attr"),n=R(null),s=R(""),u=R(""),m=R(0),b=R(0),x=g(()=>({overflow:"hidden",width:`${r.value.w}px`,height:`${r.value.h}px`})),p=g(()=>({transform:s.value,transition:u.value})),c=g(()=>({"font-family":`${a.value.textStyle.fontFamily}, Arial, sans-serif`,"font-size":`${a.value.textStyle.fontSize}px`,color:a.value.textStyle.color,"font-weight":a.value.textStyle.fontWeight,"text-align":a.value.textAlign,"line-height":`${a.value.lineHeight}px`,"text-indent":`${a.value.textIndent}px`,"min-height":`${m.value}px`})),l=g(()=>o.value[i.value.value]||a.value.content),d=()=>{He(()=>{n.value&&(m.value=n.value.offsetHeight),m.value>r.value.h?(s.value=`translateY(-${m.value}px)`,u.value=`transform ${a.value.scroll.duration}ms linear 0s`,b.value=window.setTimeout(()=>{s.value="translateY(0)",u.value="none 0s ease 0s",a.value.scroll.overScroll&&d()},a.value.scroll.duration)):(m.value=r.value.h,s.value="translateY(0)",u.value="none 0s ease 0s")})},v=We(d,500);return Ee([x,()=>a.value.scroll.overScroll],()=>{clearTimeout(b.value),m.value=r.value.h,s.value="translateY(0)",u.value="none 0s ease 0s",v()}),Ge(()=>{v()}),qe(()=>{clearTimeout(b.value)}),{contentRef:n,config:a,wrapperStyle:x,bigContentStyle:p,contentStyle:c,contentText:l}}});function Qn(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.wrapperStyle)},[P("div",{style:X(e.bigContentStyle)},[P("div",{ref:"contentRef",style:X(e.contentStyle)},se(e.contentText),5),e.config.scroll.overScroll?($(),F("div",{key:0,style:X(e.contentStyle)},se(e.contentText),5)):Xe("",!0)],4)],4)}var $t=ae(Jn,[["render",Qn]]);$t.install=e=>{e.component("VParagraph",$t),e.component("VParagraphProp",U(()=>z(()=>import("./config.1db8e218.js"),["assets/config.1db8e218.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"])))};const er=H({name:"VTimer",props:{com:{type:Object,required:!0}},setup(e){const t=j(e.com,"config"),o=j(e.com,"attr"),i=g(()=>{const{textStyle:m,horizontal:b,vertical:x}=t.value.time;return{width:`${o.value.w}px`,height:`${o.value.h}px`,"font-size":`${m.fontSize}px`,"font-family":m.fontFamily,"font-weight":m.fontWeight,color:m.color,display:"flex","justify-content":b,"align-items":x,overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}}),a=g(()=>{const{time:m,iconStyle:b}=t.value,x=m.textStyle.fontSize*b.size;return{display:"block",width:`${x}px`,height:`${x}px`,marginRight:`${b.marginRight}px`}}),r=Vt(le()),n=R(0),s=g(()=>le(r.value).format(t.value.time.format)),u=()=>{let m=t.value.time.duration||100;r.value=le(r.value).add(m,"ms"),n.value=window.setTimeout(()=>{u()},m)};return u(),qe(()=>{clearTimeout(n.value)}),{config:t,wrapperStyle:i,iconStyle:a,realDateTime:s}}}),tr={stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},or=["fill"],ar=P("path",{d:"M929,661 C924.028906,661 920,656.971094 920,652 C920,647.028906 924.028906,643 929,643 C933.971094,643 938,647.028906 938,652 C938,656.971094 933.971094,661 929,661 L929,661 Z M934.468555,646.531445 C933.758398,645.821289 932.930469,645.262305 932.009375,644.873828 C931.056641,644.469531 930.044141,644.265625 929,644.265625 C927.955859,644.265625 926.943359,644.469531 925.990625,644.87207 C925.069531,645.262305 924.243359,645.819531 923.531445,646.529688 C922.821289,647.239844 922.262305,648.067773 921.873828,648.988867 C921.469531,649.943359 921.265625,650.955859 921.265625,652 C921.265625,653.044141 921.469531,654.056641 921.87207,655.009375 C922.262305,655.930469 922.819531,656.756641 923.529688,657.468555 C924.239844,658.178711 925.067773,658.737695 925.988867,659.126172 C926.943359,659.530469 927.955859,659.734375 929,659.734375 C930.044141,659.734375 931.056641,659.530469 932.009375,659.12793 C932.930469,658.737695 933.756641,658.180469 934.468555,657.470312 C935.178711,656.760156 935.737695,655.932227 936.126172,655.011133 C936.530469,654.056641 936.734375,653.044141 936.734375,652 C936.734375,650.955859 936.530469,649.943359 936.12793,648.990625 C935.737695,648.069531 935.180469,647.241602 934.468555,646.531445 L934.468555,646.531445 Z M932.884766,652.140625 L929.632812,652.140625 L929.632812,656.359375 C929.632812,656.70918 929.349805,656.992188 929,656.992188 L929,656.992188 C928.650195,656.992188 928.367188,656.70918 928.367188,656.359375 L928.367188,652.140625 L928.367188,652.140625 C928.367188,651.441016 928.933203,650.875 929.632812,650.875 L929.632812,650.875 L932.884766,650.875 C933.23457,650.875 933.517578,651.158008 933.517578,651.507812 L933.517578,651.507812 C933.517578,651.857617 933.23457,652.140625 932.884766,652.140625 L932.884766,652.140625 Z",transform:"translate(929.000000, 652.000000) scale(1, -1) translate(-929.000000, -652.000000)"},null,-1),ir=[ar];function nr(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.wrapperStyle)},[e.config.iconStyle.show?($(),F("svg",{key:0,width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:X(e.iconStyle)},[P("g",tr,[P("g",{transform:"translate(-920.000000, -643.000000)",fill:e.config.iconStyle.color,style:X({fill:e.config.iconStyle.color})},ir,12,or)])],4)):Xe("",!0),P("span",null,se(e.realDateTime),1)],4)}var kt=ae(er,[["render",nr]]);kt.install=e=>{e.component("VTimer",kt),e.component("VTimerProp",U(()=>z(()=>import("./config.c27555e1.js"),["assets/config.c27555e1.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"])))};class oo extends ke{constructor(){super("BorderBox",{w:300,h:180});S(this,"config",{boxStyle:{style:"box15"}});S(this,"apis");S(this,"apiData");S(this,"events");S(this,"actions");this.initData()}initData(){return this.apis={},this.apiData={},this.events={},this.actions={},this}async loadData(){}}const Ot=[{id:"box1",name:"\u68461",src:"https://files.pengxiaotian.com/bg-box/box1-1540-292.png",border:{width:"4px 805px 281px 730px",outset:"0",slice:"4 805 281 730 fill",repeat:"repeat"}},{id:"box2",name:"\u68462",src:"https://files.pengxiaotian.com/bg-box/box2-1310-182.png",border:{width:"65px 740px 88px 560px",outset:"0",slice:"65 740 88 561 fill",repeat:"repeat"}},{id:"box3",name:"\u68463",src:"https://files.pengxiaotian.com/bg-box/box3-1390-146.png",border:{width:"101px 690px 35px 693px",outset:"0",slice:"101 690 35 693 fill",repeat:"repeat"}},{id:"box4",name:"\u68464",src:"https://files.pengxiaotian.com/bg-box/box4-1270-840.png",border:{width:"423px 606px 410px 652px",outset:"0",slice:"423 606 410 652 fill",repeat:"repeat"}},{id:"box5",name:"\u68465",src:"https://files.pengxiaotian.com/bg-box/box5-1168-686.png",border:{width:"220px 664px 460px 500px",outset:"0",slice:"220 664 460 500 fill",repeat:"repeat"}},{id:"box6",name:"\u68466",src:"https://files.pengxiaotian.com/bg-box/box6-1186-616.png",border:{width:"288px 500px 272px 680px",outset:"0",slice:"288 500 272 680 fill",repeat:"repeat"}},{id:"box7",name:"\u68467",src:"https://files.pengxiaotian.com/bg-box/box7-580-742.png",border:{width:"71px 23px",outset:"0",slice:"71 23 fill",repeat:"stretch"}},{id:"box8",name:"\u68468",src:"https://files.pengxiaotian.com/bg-box/box8-592-131.png",border:{width:"17px 24px 18px 19px",outset:"0",slice:"17 24 18 19 fill",repeat:"repeat"}},{id:"box9",name:"\u68469",src:"https://files.pengxiaotian.com/bg-box/box9-524-282.png",border:{width:"56px 4px 76px 393px",outset:"0",slice:"56 4 76 393 fill",repeat:"repeat"}},{id:"box10",name:"\u684610",src:"https://files.pengxiaotian.com/bg-box/box10-731-407.png",border:{width:"152px 27px 127px 354px",outset:"0",slice:"152 27 127 354 fill",repeat:"repeat"}},{id:"box11",name:"\u684611",src:"https://files.pengxiaotian.com/bg-box/box11-492-335.png",border:{width:"15px 11px 16px 8px",outset:"0",slice:"15 11 16 8 fill",repeat:"repeat"}},{id:"box12",name:"\u684612",src:"https://files.pengxiaotian.com/bg-box/box12-986-212.png",border:{width:"29px 107px 109px 16px",outset:"0",slice:"29 107 109 16 fill",repeat:"repeat"}},{id:"box13",name:"\u6846",src:"https://files.pengxiaotian.com/bg-box/box13.png",border:{width:"45px 103px 51px 29px",outset:"0",slice:"45 103 51 29 fill",repeat:"repeat"}},{id:"box14",name:"\u684614",src:"https://files.pengxiaotian.com/bg-box/box14-689-232.png",border:{width:"46px 305px 117px 33px",outset:"0",slice:"46 305 117 33 fill",repeat:"repeat"}},{id:"box15",name:"\u684615",src:"https://files.pengxiaotian.com/bg-box/box15.png",border:{width:"14px 100px",outset:"0",slice:"14 100",repeat:"stretch"}},{id:"box16",name:"\u684616",src:"https://files.pengxiaotian.com/bg-box/box16-116-115.png",border:{width:"14px 100px",outset:"0",slice:"14 100",repeat:"stretch"}},{id:"box17",name:"\u684617",src:"https://files.pengxiaotian.com/bg-box/box17.png",border:{width:"32px 37px",outset:"0",slice:"32 37 fill",repeat:"stretch"}},{id:"box18",name:"\u684618",src:"https://files.pengxiaotian.com/bg-box/box18-126-154.png",border:{width:"71px 23px",outset:"0",slice:"71 23",repeat:"stretch"}}];var ks=Object.freeze(Object.defineProperty({__proto__:null,BorderBox:oo,presetImages:Ot,default:oo},Symbol.toStringTag,{value:"Module"}));class ao extends ke{constructor(){super("BgBox",{w:300,h:180});S(this,"config",{borderRadius:0,fills:[{fill:"#003a8c",opacity:10}],border:{show:!0,type:"flat",flat:{width:1,style:"solid",color:"#008bff"},linearGradient:{width:2,color:{angle:135,stops:[{offset:0,color:"#00DEFF"},{offset:100,color:"#008BFF"}]}},imageType:"preset",presetImage:"box38",customImage:{source:"https://files.pengxiaotian.com/datav/custom-bg-border.png",slice:"32 37 fill",width:"32px 37px",outset:"0",repeat:"no-repeat"}},filter:{blur:"0px"},backdropFilter:{blur:"0px"},urlConfig:{url:"",ifBlank:!1}});S(this,"apis");S(this,"apiData");S(this,"events");S(this,"actions");this.initData()}initData(){return this.apis={},this.apiData={},this.events={},this.actions={},this}async loadData(){}}const Co=[...Ot,{id:"box19",name:"\u684619",src:"https://files.pengxiaotian.com/bg-box/box19-379-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box19-736-416.png",border:{width:"24px",outset:"0",slice:"24 fill",repeat:"stretch"}},{id:"box20",name:"\u684620",src:"https://files.pengxiaotian.com/bg-box/box20-379-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box20-736-416.png",border:{width:"30px",outset:"0",slice:"30 fill",repeat:"stretch"}},{id:"box21",name:"\u684621",src:"https://files.pengxiaotian.com/bg-box/box21-378-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box21-736-416.png",border:{width:"24px",outset:"0",slice:"24 fill",repeat:"stretch"}},{id:"box22",name:"\u684622",src:"https://files.pengxiaotian.com/bg-box/box22-378-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box22-736-416.png",border:{width:"10px",outset:"0",slice:"10 fill",repeat:"stretch"}},{id:"box23",name:"\u684623",src:"https://files.pengxiaotian.com/bg-box/box23-379-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box23-736-416.png",border:{width:"30px",outset:"0",slice:"30 fill",repeat:"stretch"}},{id:"box24",name:"\u684624",src:"https://files.pengxiaotian.com/bg-box/box24-379-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box24-736-416.png",border:{width:"10px 120px 10px 170px",outset:"0",slice:"10 120 10 170 fill",repeat:"stretch"}},{id:"box25",name:"\u684625",src:"https://files.pengxiaotian.com/bg-box/box25-379-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box25-736-416.png",border:{width:"10px 2px 2px 130px",outset:"0",slice:"10 2 2 130 fill",repeat:"stretch"}},{id:"box26",name:"\u684626",src:"https://files.pengxiaotian.com/bg-box/box26-379-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box26-736-416.png",border:{width:"10px",outset:"0",slice:"10 fill",repeat:"stretch"}},{id:"box27",name:"\u684627",src:"https://files.pengxiaotian.com/bg-box/box27-379-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box27-736-416.png",border:{width:"20px",outset:"0",slice:"20 fill",repeat:"stretch"}},{id:"box28",name:"\u684628",src:"https://files.pengxiaotian.com/bg-box/box28-379-181.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box28-736-416.png",border:{width:"12px",outset:"0",slice:"12 fill",repeat:"stretch"}},{id:"box29",name:"\u684629",src:"https://files.pengxiaotian.com/bg-box/box29-379-229.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box29-736-416.png",border:{width:"16px",outset:"0",slice:"16 fill",repeat:"stretch"}},{id:"box30",name:"\u684630",src:"https://files.pengxiaotian.com/bg-box/box30-379-225.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box30-736-416.png",border:{width:"10px",outset:"0",slice:"10 fill",repeat:"stretch"}},{id:"box31",name:"\u684631",src:"https://files.pengxiaotian.com/bg-box/box31-378-223.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box31-736-416.png",border:{width:"5px",outset:"0",slice:"5 fill",repeat:"stretch"}},{id:"box32",name:"\u684632",src:"https://files.pengxiaotian.com/bg-box/box32-378-223.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box32-736-416.png",border:{width:"10px",outset:"0",slice:"10 fill",repeat:"stretch"}},{id:"box33",name:"\u684633",src:"https://files.pengxiaotian.com/bg-box/box33-378-223.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box33-736-416.png",border:{width:"30px",outset:"0",slice:"30 fill",repeat:"stretch"}},{id:"box34",name:"\u684634",src:"https://files.pengxiaotian.com/bg-box/box34-378-223.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box34-736-416.png",border:{width:"5px",outset:"0",slice:"5 fill",repeat:"stretch"}},{id:"box35",name:"\u684635",src:"https://files.pengxiaotian.com/bg-box/box35-378-223.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box35-736-416.png",border:{width:"20px",outset:"0",slice:"20 fill",repeat:"stretch"}},{id:"box36",name:"\u684636",src:"https://files.pengxiaotian.com/bg-box/box36-378-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box36-736-416.png",border:{width:"1px",outset:"0",slice:"1 fill",repeat:"stretch"}},{id:"box37",name:"\u684637",src:"https://files.pengxiaotian.com/bg-box/box37-378-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box37-736-416.png",border:{width:"6px",outset:"0",slice:"6 fill",repeat:"stretch"}},{id:"box38",name:"\u684638",src:"https://files.pengxiaotian.com/bg-box/box38-380-180.png",preview:"https://files.pengxiaotian.com/bg-box/pv-box38-736-416.png",border:{width:"14px",outset:"0",slice:"14 fill",repeat:"stretch"}}];var _s=Object.freeze(Object.defineProperty({__proto__:null,BgBox:ao,presetImages:Co,default:ao},Symbol.toStringTag,{value:"Module"}));const rr=H({name:"VBgBox",props:{com:{type:Object,required:!0}},setup(e){const t=j(e.com,"config"),o=j(e.com,"attr"),i=g(()=>({transform:"translateZ(0px)",width:`${o.value.w}px`,height:`${o.value.h}px`,"border-radius":`${t.value.borderRadius}px`,filter:`blur(${t.value.filter.blur})`,"backdrop-filter":`blur(${t.value.backdropFilter.blur})`})),a=g(()=>{const n={position:"absolute",top:0,left:0,width:"inherit",height:"inherit",borderRadius:"inherit"},{border:s}=t.value;if(s.show){if(s.type==="flat"){const u=s.flat;n.borderWidth=`${u.width}px`,n.borderStyle=u.style,n.color=u.color}else if(s.type==="linearGradient"){const u=s.linearGradient,{angle:m,stops:b}=s.linearGradient.color;n.width="100%",n.height="100%",n.borderRadius=0,n.borderWidth=`${u.width}px`,n.borderStyle="solid";const x=b.map(p=>`${p.color} ${p.offset}%`).join(", ");n.borderImage=`linear-gradient(${m}deg, ${x}) 10 / ${u.width}px / 0 stretch`}else if(s.type==="image"){if(n.width="100%",n.height="100%",n.borderRadius=0,n.borderWidth="2px",n.borderStyle="solid",s.imageType==="preset"){const u=Co.find(m=>m.id===s.presetImage);u&&(n.borderImage=`url(${u.src}) ${u.border.slice} / ${u.border.width} / ${u.border.outset} ${u.border.repeat}`)}else if(s.imageType==="custom"){const u=s.customImage;let m="stretch";u.repeat==="repeat"?m="repeat":u.repeat==="repeat-x"?m="repeat stretch":u.repeat==="repeat-y"&&(m="stretch repeat"),n.borderImage=`url(${u.source}) ${u.slice} / ${u.width} / ${u.outset} ${m}`}}}return n}),r=g(()=>{const n=[];return t.value.fills.forEach(s=>{n.push({position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"inherit",opacity:s.opacity/100,backgroundColor:s.fill})}),n});return{config:t,wraperStyle:i,borderStyle:a,fillsStyles:r}}}),sr=["href","target"],lr=["href","target"];function cr(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.wraperStyle)},[e.fillsStyles.length>0?($(!0),F(be,{key:0},ye(e.fillsStyles,(n,s)=>($(),F("div",{key:s,style:X(e.borderStyle)},[P("div",{style:X(n)},[s===0&&e.config.urlConfig.url?($(),F("a",{key:0,href:e.config.urlConfig.url,target:e.config.urlConfig.ifBlank?"_blank":"_self",style:{display:"block",width:"100%",height:"100%"}},null,8,sr)):Xe("",!0)],4)],4))),128)):($(),F("div",{key:1,style:X(e.borderStyle)},[e.config.urlConfig.url?($(),F("a",{key:0,href:e.config.urlConfig.url,target:e.config.urlConfig.ifBlank?"_blank":"_self",style:{display:"block",width:"100%",height:"100%"}},null,8,lr)):Xe("",!0)],4))],4)}var _t=ae(rr,[["render",cr]]);_t.install=e=>{e.component("VBgBox",_t),e.component("VBgBoxProp",U(()=>z(()=>import("./config.42d4e548.js"),["assets/config.42d4e548.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"])))};const ur=H({name:"VBorderBox",props:{com:{type:Object,required:!0}},setup(e){const t=j(e.com,"config"),o=j(e.com,"attr");return{wraperStyle:g(()=>{const a={transform:"translateZ(0px)",width:`${o.value.w}px`,height:`${o.value.h}px`,"border-radius":0,"border-style":"solid","border-width":"1px",background:"none"},r=Ot.find(n=>n.id===t.value.boxStyle.style);return r&&(a["border-image"]=`url(${r.src}) ${r.border.slice} / ${r.border.width} / ${r.border.outset} ${r.border.repeat}`),a})}}}),dr=P("div",{class:"bg-inner",style:{background:"none",width:"100%",height:"100%"}},null,-1),pr=[dr];function gr(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.wraperStyle)},pr,4)}var Ft=ae(ur,[["render",gr]]);Ft.install=e=>{e.component("VBorderBox",Ft),e.component("VBorderBoxProp",U(()=>z(()=>import("./config.253a39ac.js"),["assets/config.253a39ac.js","assets/vendor.891943b7.js"])))};class io extends ke{constructor(){super("Decoration",{w:200,h:200});S(this,"config",{global:{img:"gif1",opacity:1}});S(this,"apis");S(this,"apiData");S(this,"events");S(this,"actions");this.initData()}initData(){return this.apis={},this.apiData={},this.events={},this.actions={},this}async loadData(){}}const $o={gif1:{url:"https://img.alicdn.com/tps/TB1tFMtPXXXXXXyXpXXXXXXXXXX-1920-1080.gif",css:{"background-position":"left bottom"}},gif2:{url:"https://img.alicdn.com/tps/TB1Pg3pPXXXXXcxXpXXXXXXXXXX-1920-1080.gif",css:{"background-position":"center"}},gif3:{url:"https://img.alicdn.com/tps/TB1XLAgPXXXXXbCXFXXXXXXXXXX-1080-824.gif",css:{"background-position":"right top"}},gif4:{url:"https://img.alicdn.com/tps/TB1LArQPXXXXXcLapXXXXXXXXXX-1080-824.gif",css:{"background-position":"right bottom"}},gif5:{url:"https://img.alicdn.com/tps/TB18er0PXXXXXXwapXXXXXXXXXX-1920-1080.gif",css:{"background-position":"left top"}},gif6:{url:"https://img.alicdn.com/tps/TB12FP6PXXXXXczXVXXXXXXXXXX-1626-356.gif",css:{"background-position":"center"}},gif7:{url:"https://img.alicdn.com/tps/TB1ZXD8PXXXXXX1aXXXXXXXXXXX-94-1461.gif",css:{"background-size":"contain","background-position":"left top"}},gif8:{url:"https://img.alicdn.com/tps/TB1Z8MHPFXXXXacaXXXXXXXXXXX-500-54.gif",css:{"background-size":"contain","background-position":"left top"}},gif9:{url:"https://img.alicdn.com/tps/TB1tIIKPFXXXXXIXVXXXXXXXXXX-500-64.gif",css:{"background-size":"contain","background-position":"left top"}},gif10:{url:"https://img.alicdn.com/tps/TB10bUCPFXXXXajapXXXXXXXXXX-782-259.gif",css:{"background-size":"contain","background-position":"left top"}},gif11:{url:"https://img.alicdn.com/tfs/TB15JPjtMTqK1RjSZPhXXXfOFXa-280-800.png",css:{"background-position":"center","background-size":"contain"}},gif12:{url:"https://img.alicdn.com/tfs/TB1_PYmtMHqK1RjSZJnXXbNLpXa-254-800.png",css:{"background-position":"center","background-size":"contain"}},gif13:{url:"https://img.alicdn.com/tfs/TB16KbftSzqK1RjSZPxXXc4tVXa-800-171.png",css:{"background-position":"center","background-size":"contain"}},gif14:{url:"https://img.alicdn.com/tfs/TB1Zo2ntQvoK1RjSZFwXXciCFXa-800-103.png",css:{"background-position":"center","background-size":"contain"}},gif15:{url:"https://img.alicdn.com/tfs/TB1R7fqtMHqK1RjSZFkXXX.WFXa-800-143.png",css:{"background-position":"center","background-size":"contain"}},gif16:{url:"https://img.alicdn.com/tfs/TB1A26ntHvpK1RjSZFqXXcXUVXa-800-154.png",css:{"background-position":"center","background-size":"contain"}},gif17:{url:"https://img.alicdn.com/tfs/TB19EDvtNYaK1RjSZFnXXa80pXa-254-800.png",css:{"background-position":"center","background-size":"contain"}},gif18:{url:"https://img.alicdn.com/tfs/TB115YhtMDqK1RjSZSyXXaxEVXa-800-143.png",css:{"background-position":"center","background-size":"contain"}},gif19:{url:"https://img.alicdn.com/tfs/TB1F3bqtQzoK1RjSZFlXXai4VXa-113-800.png",css:{"background-position":"center","background-size":"contain"}},gif20:{url:"https://img.alicdn.com/tfs/TB1pZLmtFzqK1RjSZFCXXbbxVXa-840-700.png",css:{"background-position":"center","background-size":"contain"}},gif21:{url:"https://img.alicdn.com/tfs/TB1NT_ltFzqK1RjSZFoXXbfcXXa-368-800.png",css:{"background-position":"center","background-size":"contain"}},gif22:{url:"https://img.alicdn.com/tfs/TB1YUbltFzqK1RjSZFoXXbfcXXa-800-103.png",css:{"background-position":"center","background-size":"contain"}},gif23:{url:"https://img.alicdn.com/tfs/TB1AgnntQvoK1RjSZPfXXXPKFXa-800-86.png",css:{"background-position":"center","background-size":"contain"}},gif24:{url:"https://img.alicdn.com/tfs/TB1mtbmtFzqK1RjSZFCXXbbxVXa-456-800.png",css:{"background-position":"center","background-size":"contain"}},gif25:{url:"https://img.alicdn.com/tfs/TB1eOYKtNnaK1RjSZFtXXbC2VXa-132-800.png",css:{"background-position":"center","background-size":"contain"}},gif26:{url:"https://img.alicdn.com/tfs/TB101HktSzqK1RjSZFHXXb3CpXa-184-800.png",css:{"background-position":"center","background-size":"contain"}},gif27:{url:"https://img.alicdn.com/tfs/TB1t_PftRLoK1RjSZFuXXXn0XXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif28:{url:"https://img.alicdn.com/tfs/TB1m5_KtNnaK1RjSZFtXXbC2VXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif29:{url:"https://img.alicdn.com/tfs/TB1KtritHPpK1RjSZFFXXa5PpXa-254-800.png",css:{"background-position":"center","background-size":"contain"}},gif30:{url:"https://img.alicdn.com/tfs/TB1oujktMHqK1RjSZFPXXcwapXa-500-500.png",css:{"background-position":"center","background-size":"contain"}},gif31:{url:"https://img.alicdn.com/tfs/TB1WxTntQvoK1RjSZPfXXXPKFXa-1000-800.png",css:{"background-position":"center","background-size":"contain"}},gif32:{url:"https://img.alicdn.com/tfs/TB1aQPltMHqK1RjSZFgXXa7JXXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif33:{url:"https://img.alicdn.com/tfs/TB1HYbwtNYaK1RjSZFnXXa80pXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif34:{url:"https://img.alicdn.com/tfs/TB1dg2jtMTqK1RjSZPhXXXfOFXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif35:{url:"https://img.alicdn.com/tfs/TB1Y6zntHvpK1RjSZFqXXcXUVXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif36:{url:"https://img.alicdn.com/tfs/TB1.sLotQvoK1RjSZFwXXciCFXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif37:{url:"https://img.alicdn.com/tfs/TB1OhvktMHqK1RjSZFPXXcwapXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif38:{url:"https://img.alicdn.com/tfs/TB1aU_itNTpK1RjSZFGXXcHqFXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif39:{url:"https://img.alicdn.com/tfs/TB1iFrotQPoK1RjSZKbXXX1IXXa-1200-1200.png",css:{"background-position":"center","background-size":"contain"}},gif40:{url:"https://img.alicdn.com/tfs/TB1uSTjtH2pK1RjSZFsXXaNlXXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif41:{url:"https://img.alicdn.com/tfs/TB1nXLptQvoK1RjSZFDXXXY3pXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif42:{url:"https://img.alicdn.com/tfs/TB1ZMDntHrpK1RjSZTEXXcWAVXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif43:{url:"https://img.alicdn.com/tfs/TB1MtTmtFzqK1RjSZFoXXbfcXXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif44:{url:"https://img.alicdn.com/tfs/TB1UffotQvoK1RjSZFwXXciCFXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif45:{url:"https://img.alicdn.com/tfs/TB1LdnitSzqK1RjSZFLXXcn2XXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif46:{url:"https://img.alicdn.com/tfs/TB1o.fKtNnaK1RjSZFtXXbC2VXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif47:{url:"https://img.alicdn.com/tfs/TB19K_mtSzqK1RjSZFpXXakSXXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif48:{url:"https://img.alicdn.com/tfs/TB1tefhtNTpK1RjSZR0XXbEwXXa-300-800.png",css:{"background-position":"center","background-size":"contain"}},gif49:{url:"https://img.alicdn.com/tfs/TB1MAYktSzqK1RjSZFHXXb3CpXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif50:{url:"https://img.alicdn.com/tfs/TB1VefitSzqK1RjSZFLXXcn2XXa-800-65.png",css:{"background-position":"center","background-size":"contain"}},gif51:{url:"https://img.alicdn.com/tfs/TB1iirptNTpK1RjSZFMXXbG_VXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif52:{url:"https://img.alicdn.com/tfs/TB1lFbktH2pK1RjSZFsXXaNlXXa-800-800.png",css:{"background-position":"center","background-size":"contain"}},gif53:{url:"https://img.alicdn.com/tfs/TB1m7zmtFzqK1RjSZFCXXbbxVXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif54:{url:"https://img.alicdn.com/tfs/TB1Df6mtFzqK1RjSZFoXXbfcXXa-800-200.png",css:{"background-position":"center","background-size":"contain"}},gif55:{url:"https://img.alicdn.com/tfs/TB1sg6mtSzqK1RjSZFpXXakSXXa-800-800.png",css:{"background-position":"center","background-size":"contain"}}};var Fs=Object.freeze(Object.defineProperty({__proto__:null,Decoration:io,presetImages:$o,default:io},Symbol.toStringTag,{value:"Module"}));const mr=H({name:"VDecoration",props:{com:{type:Object,required:!0}},setup(e){const t=j(e.com,"config"),o=j(e.com,"attr"),i=g(()=>({transform:"translateZ(0px)",width:`${o.value.w}px`,height:`${o.value.h}px`})),a=g(()=>{const r=$o[t.value.global.img];return _({width:"100%",height:"100%",opacity:t.value.global.opacity,"background-image":`url(${r.url})`,"background-size":"100%","background-repeat":"no-repeat","background-position":"center"},r.css)});return{wraperStyle:i,imgBoxStyle:a}}});function fr(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.wraperStyle)},[P("div",{style:X(e.imgBoxStyle)},null,4)],4)}var Xt=ae(mr,[["render",fr]]);Xt.install=e=>{e.component("VDecoration",Xt),e.component("VDecorationProp",U(()=>z(()=>import("./config.502d45e8.js"),["assets/config.502d45e8.js","assets/vendor.891943b7.js"])))};const hr=H({name:"VMainImg",props:{com:{type:Object,required:!0}},setup(e){const t=j(e.com,"config"),o=j(e.com,"attr"),i=g(()=>{const a=t.value.imageType==="vector";let r=`url(${t.value.backgroundImage}) 0% 0% / `,n="";return t.value.repeat==="repeat"?(r+="auto repeat",n="auto"):t.value.repeat==="repeat-x"?(r+="auto 100% repeat-x",n="auto 100%"):t.value.repeat==="repeat-y"?(r+="100% repeat-y",n="100%"):(r+="100% 100% no-repeat",n="100% 100%"),{width:`${o.value.w}px`,height:`${o.value.h}px`,"image-rendering":"-webkit-optimize-contrast",background:a?t.value.vectorFill:r,"-webkit-mask-image":a?`url(${t.value.vectorImage})`:"none","-webkit-mask-repeat":a?t.value.repeat:"initial","-webkit-mask-size":a?n:"initial","border-radius":`${t.value.radius}px`,cursor:t.value.cursor?"pointer":"default"}});return{config:t,wrapperStyle:i}}}),br=["href","target"];function yr(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.wrapperStyle)},[e.config.urlConfig.url?($(),F("a",{key:0,href:e.config.urlConfig.url,target:e.config.urlConfig.ifBlank?"_blank":"_self",style:{display:"block",width:"100%",height:"100%"}},null,8,br)):Xe("",!0)],4)}var Et=ae(hr,[["render",yr]]);Et.install=e=>{e.component("VMainImg",Et),e.component("VMainImgProp",U(()=>z(()=>import("./config.1f4d9bc9.js"),["assets/config.1f4d9bc9.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"])))};async function tt(e,t){return At.get(`/data/${t}.json?comId=${e}`)}const Nt=e=>typeof e=="number"?e:parseFloat(e)||null,_e=e=>e==="dataMin"||e==="dataMax"?e:Nt(e),ze=(e,t)=>t==="d"?ue.toFixed(+e):t===".1f"?ue.toFixed(+e,1):t===".2f"?ue.toFixed(+e,2):t===".0%"?`${ue.toFixed(parseFloat(e)*100)}%`:t===".1%"?`${ue.toFixed(parseFloat(e)*100,1)}%`:t===".2%"?`${ue.toFixed(parseFloat(e)*100,2)}%`:t==="th"?ue.formatNumber(+e):t===".1t"?ue.formatNumber(+e,1):t===".2t"?ue.formatNumber(+e,2):e,xr=async e=>{if(Ha(e))return;const o=await tt("0",`common/geo/${e.toLowerCase()}`);Ga(e,o.data)};Ze([Ye,Wa,Ue,Je,go]);const vr=H({name:"VBasicBar",components:{VChart:Ke},props:{com:{type:Object,required:!0}},setup(e){const t=me(),o=De();ce(e.com);const i=g(()=>{var p,c;return(c=(p=t.dataMap[e.com.id])==null?void 0:p.source)!=null?c:[]}),a=g(()=>ge(e.com.apis.source.fields)),r=j(e.com,"config"),n=j(e.com,"attr"),s=g(()=>({width:`${n.value.w}px`,height:`${n.value.h}px`})),u=g(()=>{const p=uo(i.value,c=>c[a.value.x]);return{keys:Object.keys(p),values:Object.values(p)}}),m=()=>{const{global:p,label:c,series:l}=r.value,{values:d}=u.value;return l.map((v,w)=>({type:v.type,name:v.name,label:J(_({show:c.show,position:c.position},c.textStyle),{offset:[c.offsetX,c.offsetY]}),itemStyle:{color:v.color.type==="gradient"?new po(0,0,0,1,[{offset:0,color:v.color.from},{offset:1,color:v.color.to}]):v.color.value},barGap:`${p.innerPadding}%`,barCategoryGap:`${p.outerPadding}%`,showBackground:p.background.show,backgroundStyle:{color:p.background.color},data:d.map(G=>{const I=G[w];return{value:I?I[a.value.y]:null,dataRef:I!=null?I:{}}})}))},b=g(()=>{const{global:p,xAxis:c,yAxis:l,tooltip:d,legend:v,animation:w}=r.value,[G,I]=v.position.split("-"),ie={type:d.pointer.line.type==="dashed"?[d.pointer.line.dashedLength,d.pointer.line.dashedSpace]:d.pointer.line.type,width:d.pointer.line.width,color:d.pointer.line.color};return{textStyle:{fontFamily:p.fontFamily},grid:_({},p.margin),tooltip:{show:d.show,textStyle:_({},d.textStyle),padding:[d.background.padding.v,d.background.padding.h],backgroundColor:d.background.color,trigger:d.pointer.show?"axis":"item",axisPointer:{type:d.pointer.show?"cross":"none",label:{show:!1},lineStyle:ie,crossStyle:ie},borderWidth:0},legend:{show:v.show,top:G,left:I,orient:v.orient,textStyle:_({},v.textStyle),icon:v.symbol.show?v.symbol.icon==="auto"?null:v.symbol.icon:"none",itemWidth:v.symbol.width,itemHeight:v.symbol.height,itemGap:v.symbol.gap,type:v.page.enabled?"scroll":"plain",width:v.page.enabled?v.page.size.width:"auto",height:v.page.enabled?v.page.size.height:"auto",pageIconSize:v.page.button.size,pageIconColor:v.page.button.color,pageIconInactiveColor:v.page.button.inactiveColor,pageTextStyle:{color:v.page.pageNumColor}},xAxis:{show:c.show,type:c.type,boundaryGap:c.boundaryGap,name:c.title.show?c.title.name:"",nameLocation:c.title.location,nameRotate:c.title.display.rotate,nameGap:c.title.display.offset,nameTextStyle:_({},c.title.textStyle),axisLine:{show:c.axisLine.show,lineStyle:{type:c.axisLine.type,width:c.axisLine.width,color:c.axisLine.color}},axisTick:{show:c.axisTick.show,lineStyle:{type:c.axisTick.type,width:c.axisTick.width,color:c.axisTick.color},alignWithLabel:!0},axisLabel:J(_({show:c.axisLabel.show,interval:Nt(c.axisLabel.interval),rotate:c.axisLabel.display.rotate,margin:c.axisLabel.display.margin,align:c.axisLabel.align},c.axisLabel.textStyle),{timeFormat:c.axisLabel.timeFormat,valueFormat:c.axisLabel.valueFormat,formatter:h=>c.type==="time"?le(h).format(c.axisLabel.timeFormat):c.type==="value"?ze(h,c.axisLabel.valueFormat):h}),splitLine:{show:c.grid.show,lineStyle:{type:c.grid.line.type==="dashed"?[c.grid.line.dashedLength,c.grid.line.dashedSpace]:c.grid.line.type,width:c.grid.line.width,color:c.grid.line.color}},data:u.value.keys},yAxis:{show:l.show,type:"value",name:l.title.show?l.title.name:"",nameLocation:l.title.location,nameRotate:l.title.display.rotate,nameGap:l.title.display.offset,nameTextStyle:_({},l.title.textStyle),axisLine:{show:l.axisLine.show,lineStyle:{type:l.axisLine.type,width:l.axisLine.width,color:l.axisLine.color}},axisTick:{show:l.axisTick.show,lineStyle:{type:l.axisTick.type,width:l.axisTick.width,color:l.axisTick.color},alignWithLabel:!0},boundaryGap:[`${l.axisLabel.boundaryGap}%`,`${l.axisLabel.boundaryGap}%`],axisLabel:J(_({show:l.axisLabel.show,rotate:l.axisLabel.display.rotate,margin:l.axisLabel.display.margin,align:l.axisLabel.align},l.axisLabel.textStyle),{valueFormat:l.axisLabel.valueFormat,formatter:h=>ze(h,l.axisLabel.valueFormat)}),splitLine:{show:l.grid.show,lineStyle:{type:l.grid.line.type==="dashed"?[l.grid.line.dashedLength,l.grid.line.dashedSpace]:l.grid.line.type,width:l.grid.line.width,color:l.grid.line.color}},min:_e(l.extent.min),max:_e(l.extent.max),splitNumber:l.splitNumber>0?l.splitNumber:null},animation:w.enabled,animationDuration:w.duration,animationEasing:w.easing,animationDelay:w.delay,series:m()}});return{wrapperStyle:s,option:b,onClick:p=>{o.handleSubVariablesChange(e.com.id,"click",J(_({},p.data.dataRef),{x:p.name,y:p.value}))}}}});function wr(e,t,o,i,a,r){const n=we("v-chart");return $(),F("div",{class:"datav-wrapper",style:X(e.wrapperStyle)},[Ce(n,{option:e.option,autoresize:"",onClick:e.onClick},null,8,["option","onClick"])],4)}var Dt=ae(vr,[["render",wr]]);Dt.install=e=>{e.component("VBasicBar",Dt),e.component("VBasicBarProp",U(()=>z(()=>import("./config.3d8df222.js"),["assets/config.3d8df222.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/basic-bar.cd1a436c.js","assets/vendor.891943b7.js"])))};const Tt=H({__name:"index",props:{com:{type:Object,required:!0}},setup(e){const t=e;Ze([Ye,qa,Ue,Je,go]);const o=me(),i=De();ce(t.com);const a=g(()=>{var c,l;return(l=(c=o.dataMap[t.com.id])==null?void 0:c.source)!=null?l:{}}),r=g(()=>ge(t.com.apis.source.fields)),n=j(t.com,"config"),s=j(t.com,"attr"),u=g(()=>({transform:"translateZ(0)",width:`${s.value.w}px`,height:`${s.value.h}px`})),m=g(()=>uo(a.value,c=>c[r.value.s])),b=c=>{const{global:l,yAxis:d,series:v}=n.value;return v.map((w,G)=>{const I=c[G];let ie=[];return I&&(ie=m.value[I].map(K=>({value:K[r.value.y],dataRef:K!=null?K:{}}))),{type:w.type,name:w.name||I,connectNulls:l.connectNulls,lineStyle:{color:w.line.color,type:w.line.style,width:w.line.width,opacity:w.line.opacity},smooth:w.line.smooth,symbol:w.point.icon,itemStyle:_({},w.point),label:J(_({show:w.label.show},w.label.textStyle),{offset:[w.label.offset.x,w.label.offset.y],rotate:w.label.rotate,textBorderColor:w.label.stroke.color,textBorderWidth:w.label.stroke.width,field:w.label.field,valueFormat:w.label.valueFormat,prefix:w.label.describe.prefix,suffix:w.label.describe.suffix,formatter:K=>{var E;let h=(E=K.data.dataRef[w.label.field])!=null?E:K.value;return d.type==="value"&&(h=ze(h,w.label.valueFormat)),w.label.describe.prefix+h+w.label.describe.suffix}}),data:ie}})},x=g(()=>{const{global:c,xAxis:l,yAxis:d,tooltip:v,legend:w,animation:G}=n.value,[I,ie]=w.position.split("-"),K={type:v.pointer.line.type==="dashed"?[v.pointer.line.dashedLength,v.pointer.line.dashedSpace]:v.pointer.line.type,width:v.pointer.line.width,color:v.pointer.line.color};let h=[];const E=Object.keys(m.value);return E.length>0&&(h=m.value[E[0]].map(M=>M[r.value.x])),{textStyle:{fontFamily:c.fontFamily},grid:_({},c.margin),tooltip:{show:v.show,textStyle:_({},v.textStyle),padding:[v.background.padding.v,v.background.padding.h],backgroundColor:v.background.color,triggerOn:v.triggerOn,trigger:v.pointer.show?"axis":"item",axisPointer:{type:v.pointer.show?"cross":"none",label:{show:!1},lineStyle:K,crossStyle:K},borderWidth:v.background.borderWidth,borderColor:v.background.borderColor},legend:{show:w.show,top:I,left:ie,orient:w.orient,textStyle:_({},w.textStyle),icon:w.symbol.show?w.symbol.icon==="auto"?null:w.symbol.icon:"none",itemWidth:w.symbol.width,itemHeight:w.symbol.height,itemGap:w.symbol.gap,type:w.page.enabled?"scroll":"plain",width:w.page.enabled?w.page.size.width:"auto",height:w.page.enabled?w.page.size.height:"auto",pageIconSize:w.page.button.size,pageIconColor:w.page.button.color,pageIconInactiveColor:w.page.button.inactiveColor,pageTextStyle:{color:w.page.pageNumColor}},xAxis:{show:l.show,type:l.type,boundaryGap:l.boundaryGap,name:l.title.show?l.title.name:"",nameLocation:l.title.location,nameRotate:l.title.display.rotate,nameGap:l.title.display.offset,nameTextStyle:_({},l.title.textStyle),axisLine:{show:l.axisLine.show,lineStyle:{type:l.axisLine.type,width:l.axisLine.width,color:l.axisLine.color}},axisTick:{show:l.axisTick.show,lineStyle:{type:l.axisTick.type,width:l.axisTick.width,color:l.axisTick.color},alignWithLabel:!0},axisLabel:J(_({show:l.axisLabel.show,interval:Nt(l.axisLabel.interval),rotate:l.axisLabel.display.rotate,margin:l.axisLabel.display.margin,align:l.axisLabel.align},l.axisLabel.textStyle),{timeFormat:l.axisLabel.timeFormat,valueFormat:l.axisLabel.valueFormat,formatter:M=>l.type==="time"?le(M).format(l.axisLabel.timeFormat):l.type==="value"?ze(M,l.axisLabel.valueFormat):M}),splitLine:{show:l.grid.show,lineStyle:{type:l.grid.line.type==="dashed"?[l.grid.line.dashedLength,l.grid.line.dashedSpace]:l.grid.line.type,width:l.grid.line.width,color:l.grid.line.color}},min:l.type==="value"?_e(l.extent.min):void 0,max:l.type==="value"?_e(l.extent.max):void 0,data:h},yAxis:{show:d.show,type:d.type,name:d.title.show?d.title.name:"",nameLocation:d.title.location,nameRotate:d.title.display.rotate,nameGap:d.title.display.offset,nameTextStyle:_({},d.title.textStyle),axisLine:{show:d.axisLine.show,lineStyle:{type:d.axisLine.type,width:d.axisLine.width,color:d.axisLine.color}},axisTick:{show:d.axisTick.show,lineStyle:{type:d.axisTick.type,width:d.axisTick.width,color:d.axisTick.color},alignWithLabel:!0},boundaryGap:[`${d.axisLabel.boundaryGap}%`,`${d.axisLabel.boundaryGap}%`],axisLabel:J(_({show:d.axisLabel.show,rotate:d.axisLabel.display.rotate,margin:d.axisLabel.display.margin,align:d.axisLabel.align},d.axisLabel.textStyle),{timeFormat:d.axisLabel.timeFormat,valueFormat:d.axisLabel.valueFormat,formatter:M=>d.type==="time"?le(M).format(d.axisLabel.timeFormat):d.type==="value"?ze(M,d.axisLabel.valueFormat):M}),splitLine:{show:d.grid.show,lineStyle:{type:d.grid.line.type==="dashed"?[d.grid.line.dashedLength,d.grid.line.dashedSpace]:d.grid.line.type,width:d.grid.line.width,color:d.grid.line.color}},min:d.type==="value"?_e(d.extent.min):void 0,max:d.type==="value"?_e(d.extent.max):void 0},animation:G.enabled,animationDuration:G.duration,animationEasing:G.easing,animationDelay:G.delay,series:b(E)}}),p=c=>{i.handleSubVariablesChange(t.com.id,"click",J(_({},c.data.dataRef),{x:c.name,y:c.value,s:c.seriesName}))};return(c,l)=>($(),F("div",{class:"datav-wrapper",style:X(Se(u))},[Ce(Se(Ke),{option:Se(x),autoresize:"",onClick:p},null,8,["option"])],4))}});Tt.install=e=>{e.component("VBasicLine",Tt),e.component("VBasicLineProp",U(()=>z(()=>import("./config.eef38a3f.js"),["assets/config.eef38a3f.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/basic-line.e59c26bc.js","assets/vendor.891943b7.js"])))};function ko(e){return _({type:"string",map:"",description:"",optional:!1},e!=null?e:{})}function pe(e,t){return{[e]:ko(t)}}const Sr=async(e,t)=>{const o=Oe(),i=Rt(),a=[],r=[];t.forEach(n=>{n.parentId=e.id,n.apis.source&&(r.push(n.id),a.push(n.loadData()))}),await o.addComs(t),a.length>0&&(await Promise.all(a),He(()=>{r.forEach(n=>{var s;(s=i.events[n])==null||s.requestData()})}))};class Pt extends bo{constructor(){super("China2dArea",{},q.subCom);S(this,"config",{defaultStyle:{fill:{minFillColor:"#3dcfff",maxFillColor:"#273bff",fillColor:"rgba(77, 77, 77, 0.5)"},stroke:{color:"rgba(255, 255, 255, 0.2)",weight:1,dashArray:"dashed"}},labelStyle:{show:!0,fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:12,color:"rgba(255, 255, 255, 0.6)",shadowColor:"rgba(0, 0, 0, 0.85)"},tooltip:{show:!0,infoField:!1,eventType:"click",styleType:"parent",textStyle:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:14,color:"#fff"},lineHeight:1.4,borderRadius:5,padding:{top:10,bottom:10,left:20,right:20},bgColor:"rgba(6, 75, 199, 0.8)"},interactive:{isHover:{show:!0,fillColor:"rgba(0,192,255,0.6)",strokeColor:"rgba(25,254,48,0.6)",weight:4},clickZoom:{show:!0,zoomPad:1.5}}});S(this,"apis");S(this,"apiData");S(this,"events");S(this,"actions");this.initData()}initData(){const t=[pe("area_id",{description:"\u533A\u57DF\u7F16\u53F7"}),pe("name",{type:"string",description:"\u540D\u79F0",optional:!0}),pe("value",{type:"number",description:"\u503C",optional:!0}),pe("info",{type:"string",description:"\u5F39\u6846\u5185\u5BB9",optional:!0})];Qe(this,{fields:Object.assign({},...t)}),et(this);const o=ko({description:"\u533A\u57DF\u5173\u8054id"});return this.events={click:{description:"\u70B9\u51FB\u533A\u57DF\u65F6",fields:{area_id:_({},o)}},mouseout:{description:"\u9F20\u6807\u79FB\u51FA\u533A\u57DF\u89E6\u53D1",fields:{area_id:_({},o)}},mouseover:{description:"\u9F20\u6807\u79FB\u5165\u533A\u57DF\u89E6\u53D1",fields:{area_id:_({},o)}}},this.actions={},this}async loadData(){try{const t="map/china2d-area",o=await tt(this.id,t);this.apiData.source.config.data=JSON.stringify(o.data)}catch(t){throw t}}}var Xs=Object.freeze(Object.defineProperty({__proto__:null,China2dArea:Pt,default:Pt},Symbol.toStringTag,{value:"Module"}));class no extends bo{constructor(){super("China2d",{w:800,h:600});S(this,"config",{global:{bgColor:"rgba(0,0,0,0)",zoom:{range:[0,18],value:1.5},center:{lng:108,lat:38}},tooltip:{textStyle:{fontFamily:"Microsoft Yahei",fontWeight:"normal",fontSize:14,color:"#fff"},lineHeight:1.4,borderRadius:5,padding:{top:10,bottom:10,left:20,right:20},bgColor:"rgba(6, 75, 199, 0.8)"},interactive:{dragging:!0,scrollWheelZoom:!0,isInteractive:!0}});S(this,"apis");S(this,"apiData");S(this,"events");S(this,"actions");this.initData()}initData(){const t=[pe("zoom",{type:"number",description:"\u7F29\u653E\u7EA7\u522B",optional:!0}),pe("lng",{type:"number",description:"\u7ECF\u5EA6",optional:!0}),pe("lat",{type:"number",description:"\u7EAC\u5EA6",optional:!0})];return Qe(this,{fields:Object.assign({},...t)}),et(this),this.events={"map-move":{description:"\u5730\u56FE\u79FB\u52A8\u65F6",fields:Object.assign({},...t)},"map-moveend":{description:"\u5730\u56FE\u79FB\u52A8\u7ED3\u675F\u65F6",fields:Object.assign({},...t)}},this.actions={},this}async loadData(){try{this.apiData.source.config.data="[]",this.loadSubComs()}catch(t){throw t}}async loadSubComs(){await Sr(this,[new Pt])}}var Be=(e=>(e.area="VChina2dArea",e.bubbles="VChina2dBubbles",e.flyingline="VChina2dFlyingline",e))(Be||{}),Es=Object.freeze(Object.defineProperty({__proto__:null,China2d:no,default:no,China2dSubType:Be},Symbol.toStringTag,{value:"Module"}));class ro extends ke{constructor(){super("China2dFlyingline",{},q.subCom);S(this,"config",{flyinglineStyle:{fromColor:"#0ea7ff",toColor:"#4affac",k:1,trailLength:.2,trailSize:2,curveness:-.3,constantSpeed:50,period:4,lineWidth:1,opacity:0},flareStyle:{show:!0,type:"circle",color:"#0eff90",size:1}});S(this,"apis");S(this,"apiData");S(this,"events");S(this,"actions");this.initData()}initData(){const t=[pe("from",{description:"\u98DE\u7EBF\u51FA\u53D1\u4F4D\u7F6E"}),pe("to",{description:"\u98DE\u7EBF\u7ED3\u675F\u4F4D\u7F6E"})];return Qe(this,{fields:Object.assign({},...t)}),et(this),this.events={},this.actions={},this}async loadData(){try{const t="map/china2d-flyingline",o=await tt(this.id,t);this.apiData.source.config.data=JSON.stringify(o.data)}catch(t){throw t}}}const Cr=[{id:"circle",value:"\u5706\u5F62",icon:"shape-circle"},{id:"rect",value:"\u77E9\u5F62",icon:"shape-rect"},{id:"triangle",value:"\u4E09\u77E9\u5F62",icon:"shape-triangle"},{id:"diamond",value:"\u83F1\u5F62",icon:"shape-diamond"},{id:"arrow",value:"\u7BAD\u5934",icon:"shape-arrow"},{id:"airplane",value:"\u98DE\u673A",icon:"shape-airplane"}],zt={airplane:"path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z"};var Ds=Object.freeze(Object.defineProperty({__proto__:null,China2dFlyingline:ro,flareTypes:Cr,flareIcons:zt,default:ro},Symbol.toStringTag,{value:"Module"}));const $r={class:"subcoms-box"},Bt=H({__name:"index",props:{com:null},setup(e){const t=e;Ze([Ye,Ue,Je,Za,Ka,Ya,Ua,Ja]);const o=me(),i=Oe(),a=De();ce(t.com);const r=R(!1),n={replaceMerge:["series"]},s=Vt(null),u=j(t.com,"config"),m=g(()=>{var y,k;return(k=(y=o.dataMap[t.com.id])==null?void 0:y.source)!=null?k:{}}),b=g(()=>ge(t.com.apis.source.fields)),x=g(()=>i.subComs.filter(y=>y.parentId===t.com.id&&!y.hided)),p=g(()=>{var D,B,Y;const{zoom:y,center:k}=u.value.global,C=Array.isArray(m.value)?m.value[0]:m.value;return C?{zoom:(D=C[b.value.zoom])!=null?D:y.value,lng:(B=C[b.value.lng])!=null?B:k.lat,lat:(Y=C[b.value.lat])!=null?Y:k.lng}:{zoom:y.value,lng:k.lng,lat:k.lat}}),c=y=>{var k,C;return(C=(k=o.dataMap[y])==null?void 0:k.source)!=null?C:[]},l=y=>ge(y.apis.source.fields),d=y=>{const k=y.config.tooltip;if(k.show){const C=k.styleType==="parent"?u.value.tooltip:k,D=l(y);return{show:!0,trigger:"item",triggerOn:k.eventType,textStyle:J(_({},C.textStyle),{lineHeight:C.lineHeight}),padding:[C.padding.top,C.padding.right,C.padding.bottom,C.padding.left],backgroundColor:C.bgColor,borderWidth:0,extraCssText:`border-radius: ${C.borderRadius}px;`,formatter:B=>{if(k.infoField&&B.data){const ee=B.data[D.info];if(ee)return ee}const Y=Array.isArray(B)?B[0]:B;return`\u540D\u79F0: ${Y.name}<br>\u6570\u503C: ${Y.value}`}}}return{show:!1}},v=(y,k)=>{let C=c(y.id);const D=l(y);Array.isArray(C)||(C=[C]);let B=0,Y=1;for(const ot of C){const Te=ot[D.value];B>Te?B=Te:Y<Te&&(Y=Te)}const{fill:ee,stroke:ne}=y.config.defaultStyle,{labelStyle:Z,interactive:W}=y.config,f={show:!1,min:B,max:Y,realtime:!1,seriesIndex:k,inRange:{color:[ee.minFillColor,ee.maxFillColor]}},L={areaColor:ee.fillColor,borderType:ne.dashArray,borderColor:ne.color,borderWidth:ne.weight},te={show:Z.show,color:Z.color,fontFamily:Z.fontFamily,fontSize:Z.fontSize,textShadowColor:Z.shadowColor,textShadowBlur:2},Le={disabled:!W.isHover.show,itemStyle:{areaColor:W.isHover.fillColor,borderType:"solid",borderColor:W.isHover.strokeColor,borderWidth:W.isHover.weight},label:{color:Z.color}};return{visualMap:f,itemStyle:L,label:te,emphasis:Le}},w=y=>{let k=c(y.id);const C=l(y);Array.isArray(k)||(k=[k]);const D=[];for(const B of k)D.push({area_id:B[C.area_id],name:B[C.name],value:B[C.value],info:B[C.info],dataRef:B});return{id:y.id,type:"map",zlevel:1,nameProperty:"name",data:D,geoIndex:0,select:{disabled:!0}}},G=y=>{var ne;let k=c(y.id);const C=l(y);Array.isArray(k)||(k=[k]);const{defaultStyle:D,typeSeries:B}=y.config,Y={};for(const Z of B)Y[Z.bubbleType]=Z;const ee=[];for(const Z of k){const W=(ne=Y[Z[C.type]])!=null?ne:B[0];ee.push({value:[Z[C.lng],Z[C.lat],Z[C.value]],symbol:W.bubbleKey,itemStyle:{color:W.fillColor}})}return{id:y.id,type:"effectScatter",coordinateSystem:"geo",zlevel:2,effectType:D.effectType,rippleEffect:{number:D.number,period:D.period,scale:D.offset,brushType:D.brushType},symbolSize:Z=>{const W=Z[2],[f,L]=D.sizeRange;return W>f?W>L?L:W:f},symbolSize2:D.sizeRange,itemStyle:{opacity:D.opacity},data:ee}},I=y=>{let k=c(y.id);const C=l(y);Array.isArray(k)||(k=[k]);const{flyinglineStyle:D,flareStyle:B}=y.config,Y=[];for(const ne of k)Y.push({coords:[ne[C.from].split(","),ne[C.to].split(",")]});const ee={id:`${y.id}_1`,name:y.id,type:"lines",coordinateSystem:"geo",zlevel:2,effect:{show:!0,period:D.period,constantSpeed:D.constantSpeed,trailLength:D.trailLength,symbol:"circle",symbolSize:D.trailSize},lineStyle:{width:D.lineWidth,opacity:D.opacity,curveness:D.curveness,color:new po(0,0,0,1,[{offset:0,color:D.fromColor},{offset:D.k,color:D.toColor},{offset:1,color:"#0000"}])},data:Y};return B.show?[ee,{id:`${y.id}_2`,name:y.id,type:"lines",coordinateSystem:"geo",zlevel:2,effect:{show:!0,period:D.period,constantSpeed:D.constantSpeed,trailLength:0,symbol:zt[B.type]?zt[B.type]:B.type,symbolSize:B.size,color:B.color},lineStyle:{width:0,opacity:0,curveness:D.curveness},data:Y}]:[ee]},ie=g(()=>{var ee;if(!r.value)return{};let y={show:!1},k={};const C=[],{global:D,interactive:B}=u.value;for(let ne=0,Z=x.value.length;ne<Z;ne++){const W=x.value[ne];W.name===Be.area?(y=d(W),k=v(W,ne),C.push(w(W))):W.name===Be.bubbles?C.push(G(W)):W.name===Be.flyingline&&C.push(...I(W))}return{backgroundColor:D.bgColor,geo:{map:"China",roam:B.scrollWheelZoom&&B.dragging?!0:B.scrollWheelZoom?"scale":B.dragging?"move":!1,silent:!B.isInteractive,scaleLimit:{min:D.zoom.range[0],max:D.zoom.range[1]},center:[p.value.lng,p.value.lat],zoom:p.value.zoom,itemStyle:(ee=k.itemStyle)!=null?ee:{areaColor:"#0000",borderWidth:0},label:k.label,emphasis:k.emphasis},visualMap:k.visualMap,tooltip:y,series:C}}),K=(y,k)=>{for(const C of x.value)C.events[y]&&a.handleSubVariablesChange(C.id,y,J(_({},k.data?k.data.dataRef:{}),{name:k.name}))},h=R(!1),E=()=>{s.value.chart.on("mousemove",()=>{if(s.value.chart.off("mousemove"),!h.value){h.value=!0;const y=s.value.getOption().geo[0];a.handleSubVariablesChange(t.com.id,"map-move",{lng:y.center[0],lat:y.center[1],zoom:y.zoom})}})},re=()=>{if(s.value.chart.off("mousemove"),h.value){h.value=!1;const y=s.value.getOption().geo[0];a.handleSubVariablesChange(t.com.id,"map-moveend",{lng:y.center[0],lat:y.center[1],zoom:y.zoom})}},M=y=>{K("click",y)},N=y=>{K("mouseover",y)},ve=y=>{K("mouseout",y)};return Qa(async()=>{await xr("China"),r.value=!0}),(y,k)=>{const C=we("datav-wrapper");return $(),je(C,{attr:e.com.attr},{default:Ae(()=>[Ce(Se(Ke),{ref_key:"chartRef",ref:s,autoresize:"",option:Se(ie),"update-options":n,onMousedown:E,onMouseup:re,onClick:M,onMouseover:N,onMouseout:ve},null,8,["option"]),P("div",$r,[($(!0),F(be,null,ye(Se(x),D=>($(),je(ei(D.name),{key:D.id,com:D},null,8,["com"]))),128))])]),_:1},8,["attr"])}}}),kr=H({__name:"index",props:{com:null},setup(e){return ce(e.com),(o,i)=>($(),F("div"))}}),_r=H({__name:"index",props:{com:null},setup(e){return ce(e.com),(o,i)=>($(),F("div"))}}),Fr=H({__name:"index",props:{com:null},setup(e){return ce(e.com),(o,i)=>($(),F("div"))}});Bt.install=e=>{e.component("VChina2d",Bt),e.component("VChina2dArea",kr),e.component("VChina2dBubbles",_r),e.component("VChina2dFlyingline",Fr),e.component("VChina2dProp",U(()=>z(()=>import("./config.eab2ef80.js"),["assets/config.eab2ef80.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"]))),e.component("VChina2dAreaProp",U(()=>z(()=>import("./config.bb15fa6f.js"),["assets/config.bb15fa6f.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"]))),e.component("VChina2dBubblesProp",U(()=>z(()=>import("./config.3b9ccc9a.js"),["assets/config.3b9ccc9a.js","assets/index.0f644dee.js","assets/vendor.891943b7.js"]))),e.component("VChina2dFlyinglineProp",U(()=>z(()=>import("./config.ad55494f.js"),["assets/config.ad55494f.js","assets/vendor.891943b7.js"])))};Ze([Ye,Ue,Je]);const Xr=H({name:"VWordCloud",components:{VChart:Ke},props:{com:{type:Object,required:!0}},setup(e){const t=me();ce(e.com);const o=j(e.com,"config"),i=j(e.com,"attr"),a=Vt(null),r=g(()=>{var x,p;return(p=(x=t.dataMap[e.com.id])==null?void 0:x.source)!=null?p:[]}),n=g(()=>ge(e.com.apis.source.fields)),s=g(()=>({width:`${i.value.w}px`,height:`${i.value.h}px`})),u=new Image;u.crossOrigin="*",u.onload=()=>{a.value&&a.value.setOption({series:{maskImage:o.value.global.drawType==="image"?u:null}})};const m=g(()=>{const{global:x,series:p,tooltip:c,animation:l}=o.value;return{tooltip:{show:c.show,borderWidth:0,padding:10,textStyle:_({},c.textStyle),backgroundColor:c.backgroundColor},series:{type:"wordCloud",shape:x.shape,left:"left",top:"top",right:null,bottom:null,width:"100%",height:"100%",sizeRange:[x.min,x.max],rotationRange:[x.rotationRange.min,x.rotationRange.max],rotationStep:x.rotate,gridSize:8,drawOutOfBound:!1,layoutAnimation:l.enabled,textStyle:{fontFamily:x.fontFamily,color:d=>{const v=p.find(w=>w.name===d.data.s);return v?v.color:"#fff"}},data:r.value.map(d=>({name:d[n.value.name],value:d[n.value.value],s:`${d[n.value.type]}`}))}}}),b=()=>{const{global:x}=o.value;u.src=x.drawType==="image"?x.image:""};return Ee(()=>({drawType:o.value.global.drawType,image:o.value.global.image}),()=>{b()}),Ge(()=>{b()}),{chartRef:a,wrapperStyle:s,option:m}}});function Er(e,t,o,i,a,r){const n=we("v-chart");return $(),F("div",{class:"datav-wrapper",style:X(e.wrapperStyle)},[Ce(n,{ref:"chartRef",option:e.option,autoresize:""},null,8,["option"])],4)}var Lt=ae(Xr,[["render",Er]]);Lt.install=e=>{e.component("VWordCloud",Lt),e.component("VWordCloudProp",U(()=>z(()=>import("./config.699574f4.js"),["assets/config.699574f4.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/word-cloud.42050526.js","assets/vendor.891943b7.js"])))};const Dr=H({name:"VFullScreen",props:{com:{type:Object,required:!0}},setup(e){const t=j(e.com,"config"),o=j(e.com,"attr"),i=R(!1),a=g(()=>({width:`${o.value.w}px`,height:`${o.value.h}px`})),r=g(()=>({display:"flex","justify-content":"center","align-items":"center","user-select":"none",width:`${o.value.w}px`,height:`${o.value.h}px`,borderRadius:`${t.value.borderRadius}%`,background:i.value||t.value.alwaysShow?t.value.bgColor:"transparent"})),n=g(()=>({"user-select":"none",width:`${o.value.w*.6}px`,height:`${o.value.h*.6}px`,display:i.value||t.value.alwaysShow?"block":"none"})),s=g(()=>i.value||t.value.alwaysShow?document.fullscreenElement?t.value.exit:t.value.request:"unknown");return{wrapperStyle:a,btnStyle:r,imgStyle:n,imgSrc:s,isEnter:i,switchFullScreen:()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}}}}),Tr=["src"];function Pr(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.wrapperStyle)},[P("div",{style:X(e.btnStyle),onClick:t[0]||(t[0]=(...n)=>e.switchFullScreen&&e.switchFullScreen(...n)),onMouseenter:t[1]||(t[1]=n=>e.isEnter=!0),onMouseleave:t[2]||(t[2]=n=>e.isEnter=!1)},[P("img",{style:X(e.imgStyle),src:e.imgSrc},null,12,Tr)],36)],4)}var It=ae(Dr,[["render",Pr]]);It.install=e=>{e.component("VFullScreen",It),e.component("VFullScreenProp",U(()=>z(()=>import("./config.52485a05.js"),["assets/config.52485a05.js","assets/vendor.891943b7.js"])))};const Ht={changed:"changed"};class so extends ke{constructor(){super("DatePicker",{w:250,h:50});S(this,"config",{global:{date:"2021-07-01",fontFamily:"Microsoft Yahei"},input:{size:{width:180,height:30},border:{width:1,color:"#ccc",radius:0},bgColor:"#01becc",fontSize:18,fontColor:"#fff",separator:"-",pos:"left"},calendar:{fontSize:14,fontColor:"#fff",bgColor:"#126973",selectBGColor:"#01becc",border:{width:1,color:"#ccc",radius:5},paddingBorder:{width:1,color:"#ccc",padding:6},select:{time:2,today:4}}});S(this,"apis");S(this,"apiData");S(this,"events");S(this,"actions");this.initData()}initData(){const t=[pe("date",{description:"\u9ED8\u8BA4\u65E5\u671F",optional:!0})];return Qe(this,{fields:Object.assign({},...t)}),et(this),this.events={[Ht.changed]:{description:"\u5F53\u65E5\u671F\u53D8\u5316\u65F6",fields:Object.assign({},...t)}},this.actions={},this}async loadData(){try{const t="other/date-picker",o=await tt(this.id,t);this.apiData.source.config.data=JSON.stringify(o.data)}catch(t){throw t}}}var Ts=Object.freeze(Object.defineProperty({__proto__:null,DatePickerEvent:Ht,DatePicker:so,default:so},Symbol.toStringTag,{value:"Module"}));le.extend(ti);const zr=H({name:"VDatePicker",props:{com:{type:Object,required:!0}},setup(e){const t=me(),o=De();ce(e.com);const i=g(()=>{var f,L;return(L=(f=t.dataMap[e.com.id])==null?void 0:f.source)!=null?L:{}}),a=g(()=>ge(e.com.apis.source.fields)),r=j(e.com,"config"),n=j(e.com,"attr"),s=R(!1),u="\u65E5_\u4E00_\u4E8C_\u4E09_\u56DB_\u4E94_\u516D".split("_"),m=R([]),b=new Date,x=R(b.getFullYear()),p=R(b.getMonth()),c=R(b.getDate()),l=g(()=>{const f=b.getFullYear(),L=[];for(let te=1999;te<f+10;te++)L.push(te);return L}),d=g(()=>{const f=[];for(let L=0;L<12;L++)f.push(L);return f}),v=g(()=>({width:`${n.value.w}px`,height:`${n.value.h}px`,fontFamily:r.value.global.fontFamily})),w=g(()=>{const{input:f}=r.value;return{fontFamily:"inherit",width:`${f.size.width}px`,height:`${f.size.height}px`,lineHeight:`${f.size.height}px`,border:`${f.border.width}px solid ${f.border.color}`,borderRadius:`${f.border.radius}px`,background:f.bgColor,color:f.fontColor,fontSize:`${f.fontSize}px`,textAlign:f.pos}}),G=g(()=>{const{input:f,calendar:L}=r.value;return{position:"absolute",overflow:"hidden",paddingTop:"10px",zIndex:999,top:`${f.size.height}px`,background:L.bgColor,borderRadius:`${L.border.radius}px`,border:`${L.border.width}px solid${L.border.color}`}}),I=g(()=>{const{calendar:f}=r.value;return{float:"left",marginRight:"5px",cursor:"pointer",borderRadius:"50%",textAlign:"center",verticalAlign:"middle",border:"0px solid rgb(204, 204, 204)",fontSize:`${f.fontSize}px`,width:`${f.fontSize}px`,height:`${f.fontSize+5.5}px`,lineHeight:`${f.fontSize+5.5}px`,color:f.fontColor}}),ie=g(()=>J(_({},I.value),{marginRight:"8px"})),K=g(()=>({float:"left",marginRight:"5px",cursor:"pointer",height:`${r.value.calendar.fontSize+5.5}px`})),h=g(()=>{const{calendar:f}=r.value;return{verticalAlign:"top",border:"0",padding:`${f.select.time}px`,background:f.selectBGColor,color:f.fontColor,fontSize:`${f.fontSize}px`}}),E=g(()=>{const{calendar:f}=r.value;return{float:"right",border:"0px solid rgb(204, 204, 204)",textAlign:"center",verticalAlign:"middle",cursor:"pointer",borderRadius:"5px",padding:`${f.select.today/2}px ${f.select.today}px`,background:f.selectBGColor,color:f.fontColor,fontSize:`${f.fontSize}px`}}),re=g(()=>({background:r.value.calendar.selectBGColor})),M=g(()=>{const{calendar:f}=r.value;return{padding:`${f.paddingBorder.padding}px`,border:`${f.paddingBorder.width}px solid ${f.paddingBorder.color}`,color:f.fontColor,fontSize:`${f.fontSize}px`,fontWeight:"normal"}}),N=g(()=>{const{calendar:f}=r.value;return{"text-align":"center","font-size":`${f.fontSize}px`,cursor:"pointer",padding:`${f.paddingBorder.padding}px`,border:`${f.paddingBorder.width}px solid ${f.paddingBorder.color}`,color:f.fontColor,background:"transparent"}}),ve=g(()=>J(_({},N.value),{color:"#000",background:r.value.calendar.selectBGColor})),y=g(()=>{var te;const{separator:f}=r.value.input,L=(te=i.value[a.value.date])!=null?te:r.value.global.date;return le(L).format(`YYYY${f}MM${f}DD`)}),k=()=>{s.value=!1,document.removeEventListener("click",k)};Ee(()=>s.value,f=>{f&&document.addEventListener("click",k)});const C=(f,L)=>{const te=[],Le=new Date(f,L,1).getDay(),ot=le(`${f}-1-1`).isLeapYear()?29:28,Gt=[31,ot,31,30,31,31,30,31,30,31,30,31][L],_o=Math.ceil((Gt+Le)/7);let Wt=0;for(let at=0;at<_o;at++){const qt=[];for(let it=0;it<7;it++){Wt=at*7+it;const nt=Wt-Le+1;qt.push(nt<1||nt>Gt?" ":nt)}te.push(qt)}m.value=te},D=()=>{p.value<=0?(p.value=11,x.value--):p.value--,C(x.value,p.value)},B=()=>{p.value>=11?(p.value=0,x.value++):p.value++,C(x.value,p.value)},Y=()=>{const f=new Date;x.value=f.getFullYear(),p.value=f.getMonth(),c.value=f.getDate(),r.value.global.date=`${x.value}-${p.value+1}-${c.value}`,C(x.value,p.value),k()},ee=f=>{const L=parseInt(f.target.innerText);L>0&&(r.value.global.date=`${x.value}-${p.value+1}-${L}`),k()},ne=()=>{C(x.value,p.value)},Z=f=>{let L="";for(const te of Object.keys(ve.value))L+=`${te}:${ve.value[te]};`;f.target.style.cssText=L},W=f=>{let L="";for(const te of Object.keys(N.value))L+=`${te}:${N.value[te]};`;f.target.style.cssText=L};return C(x.value,p.value),Ee(y,f=>{o.handleSubVariablesChange(e.com.id,Ht.changed,J(_({},i.value),{date:f}))},{immediate:!0}),{visible:s,weekdays:u,dateList:m,ynow:x,mnow:p,dnow:c,yearList:l,monthList:d,globalStyle:v,inputStyle:w,calendarStyle:G,headerLeftStyle:I,headerRightStyle:ie,selectBoxStyle:K,selectStyle:h,todayStyle:E,theadStyle:re,paddingStyle:M,tdStyle:N,tdOverStyle:ve,viewDate:y,preMonth:D,nextMonth:B,today:Y,selectDate:ee,changePanel:ne,tdMOver:Z,tdMOut:W}}}),Br={style:{position:"relative",float:"left"}},Lr=["value"],Ir={class:"clearfix",style:{padding:"0 5px","margin-bottom":"4px"}},Mr=["value"],Ar=["value"],Vr={style:{"border-collapse":"collapse","table-layout":"fixed"}};function jr(e,t,o,i,a,r){return $(),F("div",{class:"datav-wrapper",style:X(e.globalStyle),onClick:t[11]||(t[11]=ai(()=>{},["stop"]))},[P("div",Br,[P("input",{type:"text",style:X(e.inputStyle),value:e.viewDate,onClick:t[0]||(t[0]=n=>e.visible=!0)},null,12,Lr),st(P("div",{style:X(e.calendarStyle)},[P("div",Ir,[P("div",{style:X(e.headerLeftStyle),onClick:t[1]||(t[1]=(...n)=>e.preMonth&&e.preMonth(...n))}," < ",4),P("div",{style:X(e.selectBoxStyle)},[st(P("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>e.ynow=n),style:X(e.selectStyle),onChange:t[3]||(t[3]=(...n)=>e.changePanel&&e.changePanel(...n))},[($(!0),F(be,null,ye(e.yearList,n=>($(),F("option",{key:n,value:n},se(n),9,Mr))),128))],36),[[Kt,e.ynow]])],4),P("div",{style:X(e.selectBoxStyle)},[st(P("select",{"onUpdate:modelValue":t[4]||(t[4]=n=>e.mnow=n),style:X(e.selectStyle),onChange:t[5]||(t[5]=(...n)=>e.changePanel&&e.changePanel(...n))},[($(!0),F(be,null,ye(e.monthList,n=>($(),F("option",{key:n,value:n},se(n+1),9,Ar))),128))],36),[[Kt,e.mnow]])],4),P("div",{style:X(e.headerRightStyle),onClick:t[6]||(t[6]=(...n)=>e.nextMonth&&e.nextMonth(...n))}," > ",4),P("div",{style:X(e.todayStyle),onClick:t[7]||(t[7]=(...n)=>e.today&&e.today(...n))}," \u4ECA ",4)]),P("table",Vr,[P("thead",{style:X(e.theadStyle)},[($(!0),F(be,null,ye(e.weekdays,n=>($(),F("th",{key:n,style:X(e.paddingStyle)},se(n),5))),128))],4),P("tbody",null,[($(!0),F(be,null,ye(e.dateList,(n,s)=>($(),F("tr",{key:s,style:{display:"table-row"}},[($(!0),F(be,null,ye(n,(u,m)=>($(),F("td",{key:m,style:X(e.tdStyle),onClick:t[8]||(t[8]=(...b)=>e.selectDate&&e.selectDate(...b)),onMouseover:t[9]||(t[9]=(...b)=>e.tdMOver&&e.tdMOver(...b)),onMouseout:t[10]||(t[10]=(...b)=>e.tdMOut&&e.tdMOut(...b))},se(u),37))),128))]))),128))])])],4),[[oi,e.visible]])])],4)}var Mt=ae(zr,[["render",jr],["__scopeId","data-v-586e183f"]]);Mt.install=e=>{e.component("VDatePicker",Mt),e.component("VDatePickerProp",U(()=>z(()=>import("./config.b467333a.js"),["assets/config.b467333a.js","assets/select-options.c137f5b6.js","assets/echarts-animation.c54de7ad.js","assets/vendor.891943b7.js"])))};const Rr=[wt,St,Ct,$t,kt,_t,Ft,Xt,Et,Dt,Tt,Bt,Lt,It,Mt],Or=e=>{e.component("DatavWrapper",zi),Rr.forEach(t=>{e.use(t)})};var Ps={install:Or};const zs={title:"DataV",logo:"//files.pengxiaotian.com/datav/datav-vue-logo.png"};function Nr(e,t){return O.post("/user/login",{username:e,password:t})}function Hr(){return O.post("/user/logout")}function Gr(){return O.get("/user/info")}const ht="DataV-Token",Bs=xe("user",{state:()=>({token:"",name:"",avatar:"",role:-1}),actions:{async login(e,t){try{const o=await Nr(e,t);if(o.data.code===0)this.token=o.data.data,localStorage.setItem(ht,o.data.data);else throw Error(o.data.message)}catch(o){throw o}},async getUserInfo(){try{const e=await Gr();if(e.data.code===0){const{data:t}=e.data;this.name=t.name,this.avatar=t.avatar,this.role=t.role}else throw Error(e.data.message)}catch(e){throw e}},resetToken(){this.token="",localStorage.removeItem(ht)},isLogin(){return!!localStorage.getItem(ht)},async logout(){await Hr(),this.resetToken()}}}),Wr=H({name:"AppRoot",setup(){return{themeOverrides:fo}}});function qr(e,t,o,i,a,r){const n=we("router-view"),s=we("n-dialog-provider"),u=we("n-message-provider"),m=we("n-config-provider");return $(),je(m,{"theme-overrides":e.themeOverrides,abstract:""},{default:Ae(()=>[Ce(u,{closable:"","keep-alive-on-hover":""},{default:Ae(()=>[Ce(s,null,{default:Ae(()=>[Ce(n)]),_:1})]),_:1})]),_:1},8,["theme-overrides"])}var Ls=ae(Wr,[["render",qr]]);export{as as $,Ls as A,In as B,zn as C,Ps as D,An as E,De as F,Qr as G,$s as H,q as I,Co as J,Ot as K,$o as L,vs as M,Jr as N,bo as O,pe as P,Qe as Q,et as R,Yr as S,$n as T,Jt as U,tt as V,ke as W,Cr as X,Bn as Y,Cn as Z,z as _,ae as a,Pe as a0,hs as a1,ws as a2,_n as a3,bs as a4,Qt as a5,mt as a6,xs as a7,ys as a8,Sr as a9,ts as aa,Mn as ab,me as ac,Ss as ad,vt as ae,Cs as af,Fe as ag,So as ah,ks as ai,_s as aj,Fs as ak,Xs as al,Es as am,Ds as an,Ts as ao,$e as b,O as c,di as d,os as e,is as f,zs as g,ss as h,bt as i,rs as j,cs as k,Ur as l,ls as m,us as n,ds as o,ps as p,fs as q,gs as r,ms as s,ns as t,Bs as u,Oe as v,Fn as w,Rt as x,es as y,U as z};
