var P=Object.defineProperty;var V=(s,t,a)=>t in s?P(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var _=(s,t,a)=>(V(s,typeof t!="symbol"?t+"":t,a),a);import{a6 as p,aa as g,ad as r,a4 as x,bh as E,al as S,bf as b,F as D,a5 as v,ae as M,af as N,aV as m,b1 as $,ag as A,ac as F,b8 as T,bi as j,a9 as k,av as W,aj as L,aA as z,a7 as C,ah as R,ab as X,bj as H,bk as B}from"./vendor.891943b7.js";import{a as I,u as q}from"./App.404b9962.js";import{I as G}from"./arrow-down.8f9f19b3.js";import{I as O}from"./document.8fdddbc1.js";import{I as U}from"./tutorial.7e950cc3.js";import{I as J}from"./my-com.1625f2f0.js";import{I as K}from"./my-data.e998b2c3.js";import{I as Q}from"./layer.269da1ba.js";const Y={},Z={t:"1629556429050",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4369","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"64",height:"64"},tt=r("path",{d:"M172.08888854 967.11111147a45.51111147 45.51111147 0 0 1-45.5111104-45.51111147V102.4a45.51111147 45.51111147 0 0 1 45.5111104-45.51111147h637.15555626a45.51111147 45.51111147 0 0 1 45.5111104 45.51111147v136.53333333h-91.02222186V147.91111147H217.6v728.17777706h546.13333334v-91.02222186h91.02222186v136.53333333a45.51111147 45.51111147 0 0 1-45.5111104 45.51111147H172.08888854z m591.6444448-273.06666667v-136.53333333h-318.57777814v-91.02222294h318.57777814V329.9555552l227.5555552 182.0444448-227.5555552 182.0444448z","p-id":"4370"},null,-1),et=[tt];function at(s,t){return p(),g("svg",Z,et)}var nt=I(Y,[["render",at]]);const st="//files.pengxiaotian.com",ot=x({name:"NavHeader",components:{IconArrowDown:G},props:{isFixed:{type:Boolean,default:!1}},setup(){const s=q(),t=E(),a=[{label:"\u5E2E\u52A9\u6587\u6863",key:"doc",icon:()=>b(D,null,{default:()=>b(O)})},{type:"divider",key:"d1"},{label:"\u9000\u51FA",key:"logout",icon:()=>b(D,null,{default:()=>b(nt)})}],e=async()=>{await s.logout(),t.push({name:"Login"})},n=i=>{i==="logout"&&e()};return{cdn:st,userName:S(()=>s.name),avatar:S(()=>s.avatar),profileOpts:a,handleProfileSelect:n}}}),it={class:"logo"},ct={class:"top-tip"},rt=r("strong",{class:"tip-strong"},"\u516C\u544A",-1),dt={class:"datav-marquee"},lt={class:"content"},ht=T(" 1. DataV \u4EC5\u652F\u6301\u8C37\u6B4C Chrome \u6D4F\u89C8\u5668\u7248\u672C 62 \u4EE5\u4E0A\u30022. DataV \u57FA\u4E8E Vue 3.x \u5F00\u53D1\u30023. \u9879\u76EE\u5730\u5740\uFF1A"),ut=r("a",{href:"https://github.com/pengxiaotian/datav-vue",target:"_blank",class:"project-href"},"https://github.com/pengxiaotian/datav-vue",-1),pt=r("span",{class:"content-space"},null,-1),vt={class:"user"},_t={class:"header-item"},mt={class:"user-link-wrap"},gt={class:"user-link"},ft={class:"datav-nav"},wt={class:"header-img"},yt=["src"],bt=r("div",{class:"nav-img"},null,-1);function Ct(s,t,a,e,n,i){const o=v("n-avatar"),c=v("IconArrowDown"),d=v("n-icon"),h=v("n-dropdown");return p(),g("div",null,[r("div",{class:"datav-hearder",style:F({background:s.isFixed?"#171b22":""})},[r("div",it,[r("div",ct,[rt,r("div",dt,[r("span",lt,[(p(),g(M,null,N(2,f=>(p(),g(M,{key:f},[ht,ut,pt],64))),64))])])])]),r("div",vt,[r("div",_t,[m(h,{options:s.profileOpts,placement:"bottom-end","show-arrow":!0,onSelect:s.handleProfileSelect},{default:$(()=>[r("span",mt,[m(o,{round:"",size:20,src:s.avatar+"?imageView2/1/w/80/h/80"},null,8,["src"]),r("span",gt,A(s.userName),1),m(d,{size:14},{default:$(()=>[m(c)]),_:1})])]),_:1},8,["options","onSelect"])])])],4),r("div",ft,[r("div",wt,[r("img",{class:"nav-img-text",src:`${s.cdn}/datav/nav-img-text.png`},null,8,yt),bt])])])}var kt=I(ot,[["render",Ct]]);class It{constructor(t,a,e=0){_(this,"j",.85);_(this,"k",10);_(this,"l",4);_(this,"canvas");_(this,"tabs");_(this,"pattern",null);_(this,"tabWidthList",[]);_(this,"tabHeight",0);_(this,"opt",{currentIndex:0,nextIndex:1,speed:1,timer:0,width:200,height:100,animating:!1,curDisX:0,distance:0});this.canvas=document.getElementById(t),this.tabs=document.querySelectorAll(a);const{opt:n}=this;this.calcTabs(),this.initCanvas(this.canvas,n.width,n.height),this.createPattern(this.canvas),this.startDraw(0),this.toggle(e)}initCanvas(t,a,e){const n=t.getContext("2d"),{devicePixelRatio:i}=window;t.width=a*i,t.height=e*i,t.style.width=`${a}px`,t.style.height=`${e}px`,n.scale(i,i)}calcTabs(){const{opt:t,tabs:a}=this,e=[];let n=0;a.forEach(i=>{e.push(n),n+=i.offsetWidth}),e[0]=-20,e.push(n),this.tabWidthList=e,this.tabHeight=a[0].offsetHeight+0,t.height=this.tabHeight+20,t.width=window.innerWidth}createPattern(t){const i=document.createElement("canvas");i.width=140,i.height=63,i.style.width=`${140/1}px`,i.style.height=`${63/1}px`;const o=i.getContext("2d");o.scale(1,1),o.lineWidth=.4;for(let c=3,d=.8,h=1;30>h;h++)o.strokeStyle=`RGBA(22, 120, 160, ${d})`,o.beginPath(),o.moveTo(0,h*c),o.lineTo(140,h*c),o.stroke(),o.closePath(),10<h&&(d-=.1);this.pattern=t.getContext("2d").createPattern(i,"repeat-x")}calcAvgSpeed(t){const{l:a,j:e,k:n}=this,i=(a*e*t+n*(1-e)*t)/(n*a*20);return Math.max(Math.abs(i),2.5)*Math.sign(i)}getCurSpeed(t,a){const{l:e,j:n,k:i,opt:o}=this;return Math.abs(t)>Math.abs(n*a)?e*o.speed:i*o.speed}calCurve(t,a,e,n,i,o){t.bezierCurveTo(a+o,e,n-o,i,n,i)}drawHightlight(t){const{opt:a}=this,e=this.canvas.getContext("2d"),n=.3;e.clearRect(0,0,2*a.width,2*a.height),e.shadowColor="rgba(36, 131, 255, 1)",e.shadowBlur=5,e.strokeStyle="#004CB3",e.lineWidth=.8,e.fillStyle="none",this.draw(e,!1);const i=e.createLinearGradient(0,0,a.width,a.height),o=t-n;i.addColorStop(Math.min(1,Math.max(0,0+o)),"rgba(0,0,0,0)"),i.addColorStop(Math.min(1,Math.max(0,0+o+.1)),"#8ed6ff"),i.addColorStop(Math.min(1,0+o+n),"#8ed6ff"),i.addColorStop(Math.min(1,0+o+n+.1),"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,0)"),e.lineWidth=1.5,e.strokeStyle=i,e.fillStyle=this.pattern,this.draw(e,!0)}startDraw(t){this.drawHightlight(t),this.opt.timer=requestAnimationFrame(()=>{this.startDraw((t+.005)%1.6)})}draw(t,a){const{opt:e,tabWidthList:n,tabHeight:i}=this,o=e.currentIndex,c=i,d=0,h=40,f=20,l=.5,w=2.5;let u=0;if(t.beginPath(),t.moveTo(-50,e.height+10),t.lineTo(-50,c+l),e.animating){const y=this.getCurSpeed(e.curDisX,e.distance);u=Math.min(Math.abs(e.distance),Math.abs(e.curDisX+y))*Math.sign(y)}if(t.lineTo(d+n[o]+u-h/2,c+l),this.calCurve(t,d+n[o]+u-h/2,c+l,d+n[o]+u+h/2,w+l,f),e.animating){const y=n[e.nextIndex+1]-n[e.nextIndex];t.lineTo(d+n[o]+y+u-h/2,w+l),this.calCurve(t,d+n[o]+y+u-h/2,w+l,d+n[o]+y+u+h/2,c+l,f)}else t.lineTo(d+n[o+1]+u-h/2,w+l),this.calCurve(t,d+n[o+1]+u-h/2,w+l,d+n[o+1]+u+h/2,c+l,f);t.lineTo(e.width+10,c+l),t.lineTo(e.width+10,e.height+10),t.closePath(),t.stroke(),a&&t.fill(),a&&e.animating&&(e.curDisX=u,Math.abs(u)>=Math.abs(e.distance)&&(e.animating=!1,e.currentIndex=e.nextIndex))}toggle(t){const{opt:a,tabWidthList:e}=this;t!==a.currentIndex&&e&&e.length&&(!a.animating||t!==a.nextIndex)&&(a.animating=!0,a.distance=e[t]-e[a.currentIndex],a.speed=this.calcAvgSpeed(a.distance),a.curDisX=0,a.nextIndex=t)}resize(){const{opt:t}=this;t.timer&&cancelAnimationFrame(t.timer),this.calcTabs(),this.initCanvas(this.canvas,t.width,t.height),this.startDraw(0)}}const Mt=x({name:"NavMain",components:{IconLayer:Q,IconMyData:K,IconMyCom:J,IconTutorial:U},props:{navs:{type:Array,required:!0}},emits:["change"],setup(s,t){const a=j(),e=k(0);let n=null;const i=c=>{n&&(e.value=c.id,n.toggle(c.id),t.emit("change",c))},o=W(()=>{n&&n.resize()},500);return L(()=>{const c=s.navs.find(d=>d.key===a.name);e.value=c?c.id:0,n=new It("nav-canvas",".nav-main .nav-span",e.value),window.addEventListener("resize",o)}),z(()=>{window.removeEventListener("resize",o)}),{toggleNav:i,activeNav:e}}}),$t=s=>(H("data-v-742ce1e9"),s=s(),B(),s),xt={class:"nav-main"},St=$t(()=>r("canvas",{id:"nav-canvas",style:{position:"absolute","z-index":"-1",left:"0"}},null,-1)),Dt=["onClick"];function Et(s,t,a,e,n,i){const o=v("IconLayer"),c=v("IconMyData"),d=v("IconMyCom"),h=v("IconTutorial"),f=v("n-icon");return p(),g("div",xt,[St,(p(!0),g(M,null,N(s.navs,l=>(p(),g("span",{key:l.id,class:"nav-span"},[r("a",{class:X(["nav-link",{"nav-active":s.activeNav===l.id}]),onClick:w=>s.toggleNav(l)},[m(f,{class:"nav-icon",size:20},{default:$(()=>[l.key==="MyProject"?(p(),C(o,{key:0})):l.key==="MyData"?(p(),C(c,{key:1})):l.key==="MyCom"?(p(),C(d,{key:2})):l.key==="MyCase"?(p(),C(h,{key:3})):R("",!0)]),_:2},1024),T(" "+A(l.name),1)],10,Dt)]))),128))])}var Nt=I(Mt,[["render",Et],["__scopeId","data-v-742ce1e9"]]);const At=x({name:"Home",components:{NavHeader:kt,NavMain:Nt},setup(){const s=k(null),t=k(!1),a=k([{id:0,key:"MyProject",name:"\u6211\u7684\u53EF\u89C6\u5316"},{id:1,key:"MyData",name:"\u6211\u7684\u6570\u636E"},{id:2,key:"MyCom",name:"\u6211\u7684\u7EC4\u4EF6"},{id:3,key:"MyCase",name:"\u6559\u7A0B"}]),e=E(),n=()=>{t.value=s.value.$el.offsetTop>200},i=o=>{e.push({name:o.key})};return L(()=>{window.addEventListener("scroll",n)}),z(()=>{window.removeEventListener("scroll",n)}),{navMainRef:s,isFixed:t,navs:a,onNavChange:i}}}),Ft=s=>(H("data-v-60aad650"),s=s(),B(),s),Tt={class:"datav"},Lt=Ft(()=>r("div",{class:"nav-shadow"},null,-1)),zt={class:"datav-main"},Ht={class:"datav-content"};function Bt(s,t,a,e,n,i){const o=v("nav-header"),c=v("nav-main"),d=v("router-view");return p(),g("div",Tt,[m(o,{"is-fixed":s.isFixed},null,8,["is-fixed"]),m(c,{ref:"navMainRef",navs:s.navs,style:F({background:s.isFixed?"var(--datav-body-bg)":""}),onChange:s.onNavChange},null,8,["navs","style","onChange"]),Lt,r("div",zt,[r("div",Ht,[m(d)])])])}var Ut=I(At,[["render",Bt],["__scopeId","data-v-60aad650"]]);export{Ut as default};
