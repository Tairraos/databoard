import{b1 as D,_ as e,b2 as I,b3 as x,b4 as O,b5 as T,e as f,a$ as P,b6 as E,ar as A,b7 as L,b8 as R,b9 as w,ba as y,I as S,aj as C,bb as F,r as $,f as k,h,j as _,w as q,L as B,aq as i,o as j}from"./App.c8de2d3d.js";import{g as M}from"./templates.1a41ce2a.js";const N=r=>r.replace("-2-d","2d").replace("-3-d","3d");async function z(r){const a=Object.assign({"/src/components/bar/basic-bar/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.c8),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/bar/basic-bar/src/basic-bar.ts":()=>e(()=>import("./basic-bar.311b6804.js"),["assets/basic-bar.311b6804.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/echarts-animation.c54de7ad.js"]),"/src/components/button/full-screen/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cn),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/button/full-screen/src/full-screen.ts":()=>e(()=>import("./full-screen.8163c603.js"),["assets/full-screen.8163c603.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/chart/word-cloud/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.ce),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/chart/word-cloud/src/word-cloud.ts":()=>e(()=>import("./word-cloud.7a84faf7.js"),["assets/word-cloud.7a84faf7.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/line/basic-line/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.c9),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/line/basic-line/src/basic-line.ts":()=>e(()=>import("./basic-line.788a1a8e.js"),["assets/basic-line.788a1a8e.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/echarts-animation.c54de7ad.js"]),"/src/components/map/china2d/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cd),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/map/china2d/src/china2d-area/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.ca),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/map/china2d/src/china2d-bubbles/index.ts":()=>e(()=>import("./index.dfeb990b.js"),["assets/index.dfeb990b.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/map/china2d/src/china2d-flyingline/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cc),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/map/china2d/src/china2d.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cb),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/media/bg-box/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cq),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/media/bg-box/src/bg-box.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cp),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/media/border-box/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cr),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/media/border-box/src/border-box.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.co),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/media/decoration/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.ct),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/media/decoration/src/decoration.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cs),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/media/main-img/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cu),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/media/main-img/src/main-img.ts":()=>e(()=>import("./main-img.009a83a1.js"),["assets/main-img.009a83a1.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/other/date-picker/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cw),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/other/date-picker/src/date-picker.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cv),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/table/carousel-table/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cm),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/table/carousel-table/src/carousel-table.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.ck),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/table/carousel-table/src/context.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cl),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/table/table-bar/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cy),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/table/table-bar/src/context.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cx),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/table/table-bar/src/table-bar.ts":()=>e(()=>import("./table-bar.f88e159d.js"),["assets/table-bar.f88e159d.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/main-title/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cf),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/main-title/src/main-title.ts":()=>e(()=>import("./main-title.4d3dcb7b.js"),["assets/main-title.4d3dcb7b.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/marquee/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cg),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/marquee/src/marquee.ts":()=>e(()=>import("./marquee.2f1122e3.js"),["assets/marquee.2f1122e3.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/number-title-flop/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.ch),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/number-title-flop/src/number-title-flop.ts":()=>e(()=>import("./number-title-flop.a56f55c4.js"),["assets/number-title-flop.a56f55c4.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/paragraph/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.ci),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/paragraph/src/paragraph.ts":()=>e(()=>import("./paragraph.1fe61e0c.js"),["assets/paragraph.1fe61e0c.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/timer/index.ts":()=>e(()=>import("./App.c8de2d3d.js").then(t=>t.cj),["assets/App.c8de2d3d.js","assets/App.4717e360.css"]),"/src/components/text/timer/src/timer.ts":()=>e(()=>import("./timer.0385d801.js"),["assets/timer.0385d801.js","assets/App.c8de2d3d.js","assets/App.4717e360.css"])}),m=N(D(r.substring(1))),d=Object.keys(a);let n=d.find(t=>t.includes(`src/${m}.ts`));if(n||(n=d.find(t=>t.includes(`src/${m}/index.ts`))),n){const t=await a[n]();return new t.default}throw Error(`Unknown component type: ${r}.`)}const H=async()=>{const r=I(),a=x(),m=O(),d=["VMainTitle","VNumberTitleFlop","VDatePicker","VBgBox","VBorderBox","VDecoration","VBasicBar","VMarquee","VParagraph","VTimer","VFullScreen","VMainImg","VWordCloud","VCarouselTable","VTableBar"],n=await Promise.all(d.map(o=>z(o)));n.map(o=>{o.attr.x=T(a.pageConfig.width-o.attr.w),o.attr.y=T(a.pageConfig.height-o.attr.h)}),await r.addComs(n);const t=[],p=[];n.forEach(o=>{o.apis.source&&(p.push(o.id),t.push(o.loadData()))}),t.length>0&&(await Promise.all(t),setTimeout(()=>{p.forEach(o=>{var l;(l=m.events[o])==null||l.requestData()})},200))},U=f({name:"ScreenEditor",components:{HeaderToolbar:P(()=>e(()=>import("./index.9895cb7e.js"),["assets/index.9895cb7e.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/screen.58e1484a.js","assets/layer.f891f2b6.js","assets/publish-screen.671ed07b.js","assets/publish-screen.075bc684.css","assets/release.077b5d20.js","assets/help.1452649a.js","assets/index.c2f9b6bc.css"])),FooterToolbar:P(()=>e(()=>import("./index.8aaa895c.js"),["assets/index.8aaa895c.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/arrow-down.2f9c9a99.js","assets/index.a3b0f861.css"])),EditorContextMenu:P(()=>e(()=>import("./index.9d2db214.js"),["assets/index.9d2db214.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/dom.59566496.js","assets/edit.4ad17d44.js","assets/delete.bcfacf57.js","assets/copy.3a9ecbda.js","assets/group.632e312f.js","assets/lock.18ca7d45.js","assets/show.917774b2.js","assets/hide.a6b121d0.js","assets/index.7f9eed8c.js","assets/warning.feae0676.js","assets/index.71b4c1c6.css"])),CanvasMain:E(()=>e(()=>import("./index.f0a7a1cf.js"),["assets/index.f0a7a1cf.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/dom.59566496.js","assets/index.7f9eed8c.js","assets/warning.feae0676.js","assets/templates.1a41ce2a.js","assets/index.fdfd5582.css"])),LayerPanel:E(()=>e(()=>import("./index.d981825b.js"),["assets/index.d981825b.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/delete.bcfacf57.js","assets/back.866f357a.js","assets/group.632e312f.js","assets/lock.18ca7d45.js","assets/hide.a6b121d0.js","assets/view-grid.2cbf3b5c.js","assets/index.7f9eed8c.js","assets/dom.59566496.js","assets/warning.feae0676.js","assets/arrow-right.d715366d.js","assets/index.7a92d1a0.css"])),ComponentsPanel:E(()=>e(()=>import("./index.90190cf7.js"),["assets/index.90190cf7.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/search.ec21aede.js","assets/back.866f357a.js","assets/lock.18ca7d45.js","assets/templates.1a41ce2a.js","assets/index.9da0e4e0.css"])),ConfigPanel:E(()=>e(()=>import("./index.2f6c31c4.js"),["assets/index.2f6c31c4.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/interact.195206be.js","assets/config.3c16c364.js","assets/index.b6e165b4.css"])),ToolboxPanel:E(()=>e(()=>import("./index.d6d5b2f1.js"),["assets/index.d6d5b2f1.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/index.add1ca62.css"])),FilterManagerDrawer:E(()=>e(()=>import("./filter-manager-drawer.e15db472.js"),["assets/filter-manager-drawer.e15db472.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/warning.feae0676.js","assets/document.8e3f3044.js","assets/filter-collapse-item.2b54b176.js","assets/arrow-left.9afce2be.js","assets/edit.4ad17d44.js","assets/delete.bcfacf57.js","assets/release.077b5d20.js","assets/drag.9aba45a6.js","assets/config.3c16c364.js","assets/filter-manager-drawer.6310fa74.css"]))},props:{projectId:{type:[String,Number],required:!0}},setup(r){const a=A(),m=L(),d=R(),n=w(),t=x(),p=I(),o=y(),l=S(!0);return n.enable(),t.setEditMode(),C(async()=>{var b;try{const u=parseInt(a.query.tpl);if(u>0){const{data:c}=await M(u);if(c){const{config:s}=c;t.setEditorOption({screen:{id:+r.projectId,name:c.name},config:{width:s.width,height:s.height,bgimage:s.bgimage,bgcolor:s.bgcolor,styleFilterParams:s.styleFilterParams}}),p.load(s.coms);const{componentsView:v,publishersView:V,subscribersView:g}=s.variables;o.$patch({componentsView:v,publishersView:V,subscribersView:g}),d.$patch({dataFilters:(b=s.dataFilters)!=null?b:[]})}u===1&&H()}else{const c=+r.projectId;await Promise.all([t.loadScreen(c),d.request(c),p.request(c)])}}catch(u){F("editor",u.message)}finally{l.value=!1,document.title=`${t.screen.name} | \u7F16\u8F91\u5668`,t.autoCanvasScale(()=>m.getPanelOffset)}}),{loading:l}}});const W={class:"g-layout is-vertical edit-container"},G={class:"g-header"},J={id:"edit-main-wp",class:"g-layout edit-main-wp"},K={class:"g-layout edit-main"};function Q(r,a,m,d,n,t){const p=i("header-toolbar"),o=i("layer-panel"),l=i("components-panel"),b=i("filter-manager-drawer"),u=i("toolbox-panel"),c=i("canvas-main"),s=i("g-loading"),v=i("footer-toolbar"),V=i("config-panel"),g=i("editor-context-menu");return j(),k(B,null,[h("div",W,[h("div",G,[_(p)]),h("div",J,[_(o),_(l),_(b),h("div",K,[_(u),_(s,{spinning:r.loading},{default:q(()=>[_(c)]),_:1},8,["spinning"]),_(v)]),_(V)])]),_(g)],64)}const X=$(U,[["render",Q],["__scopeId","data-v-837599bd"]]),tt=Object.freeze(Object.defineProperty({__proto__:null,default:X},Symbol.toStringTag,{value:"Module"}));export{z as c,tt as i};
