import{r as R,o as s,f as i,h as b,e as W,T as h,U as A,I as $,x as u,J as X,s as c,w as a,j as d,k as e,v,y as Y,z as y,p as f,B as I,t as k,q as p,K as S,L as N,M as Z,n as ee,O as H,P as te,F as D,Q as le,R as se,S as ae}from"./App.6555cd13.js";import{I as oe}from"./arrow-right.9a80f4d5.js";import{I as ne}from"./plus.f2c510ea.js";import{I as ie}from"./delete.fc942bdb.js";import{I as de}from"./copy.0eb06a46.js";const ue={},ce={t:"1641143491910",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4028",width:"64",height:"64"},re=b("path",{d:"M896 128H128c-25.6 0-42.666667 17.066667-42.666667 42.666667v682.666666c0 25.6 17.066667 42.666667 42.666667 42.666667h768c25.6 0 42.666667-17.066667 42.666667-42.666667V170.666667c0-25.6-17.066667-42.666667-42.666667-42.666667z m-42.666667 682.666667H170.666667V213.333333h682.666666v597.333334z","p-id":"4029"},null,-1),me=b("path",{d:"M170.666667 469.333333h682.666666v85.333334H170.666667v-85.333334z","p-id":"4030"},null,-1),fe=[re,me];function ge(o,V){return s(),i("svg",ce,fe)}const he=R(ue,[["render",ge]]),pe={},be={t:"1641143458555",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4027",width:"64",height:"64"},ve=b("path",{d:"M853.333333 128H170.666667c-25.6 0-42.666667 17.066667-42.666667 42.666667v682.666666c0 25.6 17.066667 42.666667 42.666667 42.666667h682.666666c25.6 0 42.666667-17.066667 42.666667-42.666667V170.666667c0-25.6-17.066667-42.666667-42.666667-42.666667zM213.333333 810.666667V213.333333h256v597.333334H213.333333z m597.333334 0h-256V213.333333h256v597.333334z","p-id":"4028"},null,-1),ye=[ve];function ke(o,V){return s(),i("svg",be,ye)}const we=R(pe,[["render",ke]]),xe={class:"g-field-show-placeholder"},_e=["title"],Ce=["innerHTML"],Te=["title"],Ie={key:2,class:"g-field-collapse-panel-toolbox"},Ne={key:2,class:"g-field-collapse-panel-toolbox-split"},Ve={key:1,class:"g-field-tabs --column"},$e=["onClick"],Se={key:1,class:"g-field-collapse-panel-empty"},Ee=W({__name:"index",props:{mode:{type:String,default:""},label:{type:String,required:!0},tooltip:{type:String},toggle:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!0},defaultLayout:{type:String,default:h.horizontal},features:{type:Array,default:()=>[]},list:Array,min:{type:Number,default:0},max:{type:Number,default:1e3},tab:{type:[String,Function]},addItem:{type:Function,default:()=>{}}},emits:[A],setup(o,{emit:V}){const t=o,x=$([]),g=$(0),w=$(t.defaultLayout===h.horizontal),U={},P=u(()=>x.value.length>0&&t.features.length>0),z=u(()=>t.features.includes(h.horizontal)),L=u(()=>t.features.includes(h.vertical)),M=u(()=>t.features.includes(h.copy)),F=u(()=>t.features.includes(h.add)),B=u(()=>t.features.includes(h.remove)),q=u(()=>(z.value||L.value)&&(M.value||F.value||B.value)),_=u(()=>{const l=!t.list||t.list.length<t.min||t.list.length>=t.max;return{disabled:l,msg:l?"\u4E0D\u53EF\u590D\u5236":""}}),C=u(()=>{const l=!t.list||t.list.length>=t.max;return{disabled:l,msg:l?"\u5DF2\u81F3\u6700\u5927\u9879\u6570":""}}),T=u(()=>{const l=!t.list||t.list.length<=t.min;return{disabled:l,msg:l?"\u5DF2\u81F3\u6700\u5C0F\u9879\u6570":""}}),O=l=>{t.toggle&&!t.modelValue||(x.value=l)},j=l=>{V(A,l)},J=()=>{if(!_.value.disabled){const l=Math.min(g.value,t.list.length-1);t.list.push(ae(t.list[l]))}},K=()=>{if(!T.value.disabled){const l=Math.min(g.value,t.list.length-1);t.list.splice(l,1),g.value=0}},Q=()=>{if(!C.value.disabled&&typeof t.addItem=="function"){const l=t.addItem()||{};t.list.push(l)}},E=l=>{const{tab:n,label:r}=t;return typeof n=="function"?n(t.list[l]):(n||r)+(l+1)},G=l=>{g.value=l};return X(()=>t.modelValue,l=>{l||(x.value=[])}),(l,n)=>(s(),c(e(se),{"expanded-names":x.value,"arrow-placement":"right","display-directive":"show",class:p(["g-field-collapse",{"--disabled":o.toggle&&!o.modelValue}]),"onUpdate:expandedNames":O},{arrow:a(()=>[d(e(v),null,{default:a(()=>[d(e(oe))]),_:1})]),default:a(()=>[d(e(le),{class:"g-field-collapse-panel"},{header:a(()=>[b("i",xe,[o.toggle?(s(),c(e(Y),{key:0,value:o.modelValue,size:"small",onClick:n[0]||(n[0]=y(()=>{},["stop"])),"onUpdate:value":j},null,8,["value"])):f("",!0)]),o.tooltip?(s(),c(e(I),{key:0,placement:"top"},{trigger:a(()=>[b("label",{class:"g-field-title-with-description",title:o.label},k(o.label),9,_e)]),default:a(()=>[b("span",{innerHTML:o.tooltip},null,8,Ce)]),_:1})):(s(),i("label",{key:1,class:"g-field-title",title:o.label},k(o.label),9,Te)),e(P)?(s(),i("div",Ie,[e(z)?(s(),c(e(v),{key:0,class:p(["toolbox-icon",{"--selected":w.value}]),onClick:n[1]||(n[1]=y(r=>w.value=!0,["stop"]))},{default:a(()=>[d(e(he))]),_:1},8,["class"])):f("",!0),e(L)?(s(),c(e(v),{key:1,class:p(["toolbox-icon",{"--selected":!w.value}]),onClick:n[2]||(n[2]=y(r=>w.value=!1,["stop"]))},{default:a(()=>[d(e(we))]),_:1},8,["class"])):f("",!0),e(q)?(s(),i("span",Ne)):f("",!0),e(M)?(s(),c(e(I),{key:3,placement:"top",disabled:!e(_).disabled},{trigger:a(()=>[d(e(v),{class:p(["toolbox-icon",{"--disabled":e(_).disabled}]),onClick:y(J,["stop"])},{default:a(()=>[d(e(de))]),_:1},8,["class","onClick"])]),default:a(()=>[S(" "+k(e(_).msg),1)]),_:1},8,["disabled"])):f("",!0),e(F)?(s(),c(e(I),{key:4,placement:"top",disabled:!e(C).disabled},{trigger:a(()=>[d(e(v),{class:p(["toolbox-icon --icon-add",{"--disabled":e(C).disabled}]),onClick:y(Q,["stop"])},{default:a(()=>[d(e(ne))]),_:1},8,["class","onClick"])]),default:a(()=>[S(" "+k(e(C).msg),1)]),_:1},8,["disabled"])):f("",!0),e(B)?(s(),c(e(I),{key:5,placement:"top",disabled:!e(T).disabled},{trigger:a(()=>[d(e(v),{class:p(["toolbox-icon",{"--disabled":e(T).disabled}]),onClick:y(K,["stop"])},{default:a(()=>[d(e(ie))]),_:1},8,["class","onClick"])]),default:a(()=>[S(" "+k(e(T).msg),1)]),_:1},8,["disabled"])):f("",!0)])):f("",!0)]),default:a(()=>[o.mode==="layout"?(s(),i(N,{key:0},[o.list&&o.list.length>0?(s(),i(N,{key:0},[w.value?(s(),c(e(Z),{key:0,value:g.value,"onUpdate:value":n[3]||(n[3]=r=>g.value=r),type:"card",class:"g-field-tabs",style:ee({"--datav-gui-tabs-card-num":o.max})},{default:a(()=>[(s(!0),i(N,null,H(o.list,(r,m)=>(s(),c(e(te),{key:m,name:m,tab:E(m)},{default:a(()=>[D(l.$slots,"default",{item:r})]),_:2},1032,["name","tab"]))),128))]),_:3},8,["value","style"])):(s(),i("div",Ve,[(s(!0),i(N,null,H(o.list,(r,m)=>(s(),i("div",{key:m,class:"g-field-tabs-column-item"},[b("span",{class:p(["g-field-tabs-column-item-head",{"--selected":m===g.value}]),onClick:De=>G(m)},k(E(m)),11,$e),D(l.$slots,"default",{item:r})]))),128))]))],64)):(s(),i("span",Se," \u5217\u8868\u4E3A\u7A7A "))],64)):D(l.$slots,"default",{key:1,item:e(U)})]),_:3})]),_:3},8,["expanded-names","class"]))}});export{Ee as default};
