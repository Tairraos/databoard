import{e as m,ba as C,aE as f,c7 as g,r as B,aq as p,o as h,f as _,h as a,j as s,p as b,w as v,K as E,as as k,at as F}from"./App.50392300.js";import{c as A,b as y}from"./config.3c16c364.js";const S=m({name:"DsApiEditor",setup(){const e=C(),t=f(A),{apiDataConfig:u}=f(y),d=Object.keys(g).map(o=>({label:o,value:o})),l=Object.keys(e.publishersView);return{ApiRequestMethod:g,apiDataConfig:u,apiMethods:d,variables:l,updateData:o=>{u.value.config.api=o.value,e.setSubscribersView(t.value.id,o.value)},updateApiHeaders:o=>{u.value.config.apiHeaders=o.value},updateApiBody:o=>{u.value.config.apiBody=o.value}}}});const i=e=>(k("data-v-55c565ae"),e=e(),F(),e),w={class:"ds-wrapper ds-api"},j=i(()=>a("p",null,"\u8BF7\u6C42\u65B9\u5F0F",-1)),H={class:"datav-new-select-wp"},M=i(()=>a("p",{class:"url-info"},[a("label",{class:"prefix-label textarea-label"},"URL\uFF1A"),a("a",{target:"_blank",rel:"noopener noreferrer",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS",class:"api-help"},"\u91CD\u8981\uFF1A\u8DE8\u57DF\u95EE\u9898\u89E3\u51B3\u65B9\u6848")],-1)),I=i(()=>a("p",{class:"url-info-text"}," \u5C06\u56DE\u8C03\u53C2\u6570\u914D\u7F6E\u5230url\u4E2D, \u4F8B: http://api.test?value=:value ",-1)),O={class:"post-request-data"},V=i(()=>a("p",{class:"url-info-text"},"Headers (Optional)",-1)),q={key:0,class:"post-request-data"},T=i(()=>a("p",{class:"url-info-text"},"POST \u8BF7\u6C42\u53C2\u6570",-1));function U(e,t,u,d,l,D){const r=p("n-select"),c=p("g-monaco-editor"),o=p("n-checkbox");return h(),_("div",w,[j,a("div",H,[s(r,{value:e.apiDataConfig.config.apiMethod,"onUpdate:value":t[0]||(t[0]=n=>e.apiDataConfig.config.apiMethod=n),options:e.apiMethods,class:"datav-new-select"},null,8,["value","options"])]),M,I,s(c,{language:"plaintext","line-numbers":"off",height:120,code:e.apiDataConfig.config.api,completions:e.variables,onBlur:e.updateData},null,8,["code","completions","onBlur"]),a("div",O,[V,s(c,{language:"json",height:120,"auto-format":!0,code:e.apiDataConfig.config.apiHeaders,onBlur:e.updateApiHeaders},null,8,["code","onBlur"])]),e.apiDataConfig.config.apiMethod===e.ApiRequestMethod.POST?(h(),_("div",q,[T,s(c,{language:"json",height:120,"auto-format":!0,code:e.apiDataConfig.config.apiBody,onBlur:e.updateApiBody},null,8,["code","onBlur"])])):b("",!0),s(o,{checked:e.apiDataConfig.config.local,"onUpdate:checked":t[1]||(t[1]=n=>e.apiDataConfig.config.local=n),class:"ds-checkbox"},{default:v(()=>[E(" \u670D\u52A1\u5668\u4EE3\u7406\u8BF7\u6C42 (\u56E0\u8DE8\u57DF\u65E0\u6CD5\u8BBF\u95EE\u65F6\u53EF\u52FE\u9009) ")]),_:1},8,["checked"]),s(o,{checked:e.apiDataConfig.config.cookie,"onUpdate:checked":t[2]||(t[2]=n=>e.apiDataConfig.config.cookie=n),class:"ds-checkbox"},{default:v(()=>[E(" \u9700\u8981 cookie (\u4E0D\u9009\u62E9\u4EE3\u7406\u5E76\u4E14\u9700\u8981\u83B7\u53D6cookie\u65F6\u4F7F\u7528) ")]),_:1},8,["checked"])])}const R=B(S,[["render",U],["__scopeId","data-v-55c565ae"]]);export{R as default};
