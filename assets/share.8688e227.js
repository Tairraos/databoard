import{c as u,a as n,g as i,u as l,_ as o,b as p,i as m,N as h,G as _,D as d,d as f,A as g}from"./App.c8de2d3d.js";const E=[{path:"/screen/:screenId",name:"Screen",props:!0,component:()=>o(()=>import("./index.f8f183ea.js"),["assets/index.f8f183ea.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/dom.59566496.js","assets/screen.58e1484a.js","assets/index.b4972611.css"])},{path:"/:catchAll(.*)*",name:"NotFound",component:()=>o(()=>import("./index.c416ba00.js"),["assets/index.c416ba00.js","assets/App.c8de2d3d.js","assets/App.4717e360.css","assets/index.9fbc8cb5.css"]),meta:{title:"\u627E\u4E0D\u5230\u9875\u9762"}}],c=u({history:n(),routes:E}),v=["/login","/auth-redirect","/dev"];c.beforeEach(async(e,A,a)=>{e.meta&&e.meta.title?document.title=`${e.meta.title} | ${i.title}`:document.title=i.title;const s=l();if(s.isLogin())if(e.path==="/login")a({path:"/"});else if(s.role>0)a();else try{await s.getUserInfo(),a({...e,replace:!0})}catch{s.resetToken(),a(`/login?redirect=${e.path}`)}else v.some(r=>e.path.startsWith(r))?a():a(`/login?redirect=${e.path}`)});const t=p(g);t.use(m);t.use(h);t.use(_);t.use(d);t.use(f());t.use(c);t.mount("#app");
